2025-01-13 23:28:11.445 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 84692288.5329ms
2025-01-13 23:28:11.450 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:28:11.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 84692675.54ms
2025-01-13 23:31:36.633 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:31:36.841 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:31:36.843 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:31:36.894 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:31:36.895 +01:00 [INF] Hosting environment: Development
2025-01-13 23:31:36.896 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:31:37.360 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:31:37.505 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 149.4928ms
2025-01-13 23:31:37.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:31:37.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:31:37.574 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:31:37.581 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 7.025ms
2025-01-13 23:31:37.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.1622ms
2025-01-13 23:31:37.601 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7722ms
2025-01-13 23:31:37.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:31:37.756 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.5752ms
2025-01-13 23:31:46.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:31:46.266 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:31:46.313 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:31:46.328 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:31:50.200 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3868.867ms
2025-01-13 23:31:50.201 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:31:50.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3998.4351ms
2025-01-13 23:31:54.268 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:31:54.271 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:31:54.272 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:31:54.272 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:32:04.807 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 10533.6452ms
2025-01-13 23:32:04.809 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:32:04.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 10551.5884ms
2025-01-13 23:32:19.160 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:32:19.160 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:32:19.166 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:32:19.168 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:32:19.170 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:32:19.170 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:32:19.172 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:32:19.182 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:35:02.720 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:35:02.858 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:35:02.859 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:35:02.899 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:35:02.899 +01:00 [INF] Hosting environment: Development
2025-01-13 23:35:02.900 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:35:03.088 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:35:03.088 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:35:03.121 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:35:03.159 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:03.168 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:35:03.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 122.246ms
2025-01-13 23:35:03.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:35:03.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:35:03.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:35:03.279 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.0303ms
2025-01-13 23:35:03.291 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.2814ms
2025-01-13 23:35:03.304 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3929ms
2025-01-13 23:35:03.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:35:03.428 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.5396ms
2025-01-13 23:35:07.032 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3859.2557ms
2025-01-13 23:35:07.034 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:07.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 4005.2769ms
2025-01-13 23:35:24.704 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:35:24.840 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:35:24.841 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:35:24.884 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:35:24.885 +01:00 [INF] Hosting environment: Development
2025-01-13 23:35:24.886 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:35:25.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:35:25.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 115.1134ms
2025-01-13 23:35:25.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:35:25.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:35:25.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:35:25.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.2849ms
2025-01-13 23:35:25.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 13.0199ms
2025-01-13 23:35:25.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.8146ms
2025-01-13 23:35:25.446 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:35:25.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.3495ms
2025-01-13 23:35:26.775 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:35:26.779 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:35:26.810 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:26.819 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:35:29.625 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2801.6466ms
2025-01-13 23:35:29.627 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:29.689 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2913.8714ms
2025-01-13 23:35:30.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:35:30.715 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:35:30.716 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:30.719 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:35:44.801 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 14080.3706ms
2025-01-13 23:35:44.802 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:44.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 14100.6984ms
2025-01-13 23:35:46.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:35:46.827 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:35:46.830 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:35:46.830 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:36:12.056 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 25224.2764ms
2025-01-13 23:36:12.062 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:36:12.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:36:12.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:36:12.065 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:36:12.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 25286.6508ms
2025-01-13 23:36:12.113 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:36:12.114 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:36:12.116 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:36:12.118 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:36:12.118 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:36:12.118 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:36:12.120 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:36:12.123 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:36:12.123 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:36:13.568 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1447.0108ms
2025-01-13 23:36:13.570 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:36:13.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1517.4758ms
2025-01-13 23:36:14.612 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2487.8983ms
2025-01-13 23:36:14.614 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:36:14.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 500 null application/json 2594.7796ms
2025-01-13 23:36:23.397 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 11271.4932ms
2025-01-13 23:36:23.398 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:36:23.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 500 null application/json 11342.5209ms
2025-01-13 23:36:34.582 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:36:34.721 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:36:34.722 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:36:34.767 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:36:34.768 +01:00 [INF] Hosting environment: Development
2025-01-13 23:36:34.769 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:36:34.794 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:36:34.855 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:36:34.887 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:36:34.895 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:36:35.043 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:36:35.140 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 97.6399ms
2025-01-13 23:36:35.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:36:35.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:36:35.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:36:35.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7878ms
2025-01-13 23:36:35.227 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.3849ms
2025-01-13 23:36:35.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.2791ms
2025-01-13 23:36:35.340 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:36:35.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.5834ms
2025-01-13 23:36:35.634 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:36:41.667 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 1
2025-01-13 23:36:41.675 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 1
2025-01-13 23:36:42.022 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-13 23:36:42.153 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-13 23:36:42.219 +01:00 [INF] Successfully fetched 1 destinations.
2025-01-13 23:37:08.961 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:37:08.982 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 34084.0389ms
2025-01-13 23:37:08.983 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:37:08.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 34195.3229ms
2025-01-13 23:37:15.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:37:15.116 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:37:15.117 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:37:15.118 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:37:15.159 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:25.593 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:40:25.731 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:40:25.732 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:40:25.771 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:40:25.771 +01:00 [INF] Hosting environment: Development
2025-01-13 23:40:25.772 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:40:28.449 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:40:28.630 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:40:28.631 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:40:28.673 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:40:28.673 +01:00 [INF] Hosting environment: Development
2025-01-13 23:40:28.674 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:40:29.030 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:40:29.136 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 108.4839ms
2025-01-13 23:40:29.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:40:29.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:40:29.190 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:40:29.195 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 5.7525ms
2025-01-13 23:40:29.205 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.6815ms
2025-01-13 23:40:29.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.119ms
2025-01-13 23:40:29.319 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:40:29.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.237ms
2025-01-13 23:40:30.585 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:30.590 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:30.622 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:30.630 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:31.254 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:31.291 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:31.544 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:31.553 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 919.1159ms
2025-01-13 23:40:31.554 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:34.110 +01:00 [ERR] Connection id "0HN9K4D3RQKIM", Request id "0HN9K4D3RQKIM:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:40:34.180 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3594.9301ms
2025-01-13 23:40:34.244 +01:00 [INF] Executed DbCommand (106ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:34.250 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:34.328 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:40:39.298 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:39.301 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:39.303 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:39.304 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:39.339 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:39.340 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:39.347 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:39.347 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:39.348 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 43.9151ms
2025-01-13 23:40:39.350 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:39.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 67.3956ms
2025-01-13 23:40:41.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:40:41.510 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:41.513 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:41.514 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:41.516 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:41.516 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:40:41.517 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:41.522 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:40:41.534 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:41.535 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:41.538 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:41.539 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 20.4296ms
2025-01-13 23:40:41.540 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:41.552 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 41.8934ms
2025-01-13 23:40:41.557 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:41.563 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 39.0757ms
2025-01-13 23:40:41.564 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:40:41.564 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:40:41.565 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 54.2935ms
2025-01-13 23:40:41.566 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:41.568 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:40:41.569 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:40:41.571 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:41.575 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5.9243ms
2025-01-13 23:40:41.580 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:40:41.581 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 17.3138ms
2025-01-13 23:40:41.604 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The read on this field has not consumed all of its bytes (pos: 21, len: 56)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The read on this field has not consumed all of its bytes (pos: 21, len: 56)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:41.607 +01:00 [ERR] Failed executing DbCommand (68ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:41.681 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The read on this field has not consumed all of its bytes (pos: 21, len: 56)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:40:41.687 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder.SetResult()
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Sockets.SocketAsyncEventArgs.<>c.<.cctor>b__174_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Threading.PortableThreadPool.IOCompletionPoller.Callback.Invoke(Event e)
   at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder.SetResult()
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Sockets.SocketAsyncEventArgs.<>c.<.cctor>b__174_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Threading.PortableThreadPool.IOCompletionPoller.Callback.Invoke(Event e)
   at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:41.781 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ReceiveAsync(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.ReceiveAsync(Memory`1 buffer, SocketFlags socketFlags, Boolean fromNetworkStream, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count, Boolean async)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder.SetResult()
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Sockets.SocketAsyncEventArgs.<>c.<.cctor>b__174_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)
   at System.Threading.PortableThreadPool.IOCompletionPoller.Callback.Invoke(Event e)
   at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:40:42.627 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:42.629 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:42.630 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:42.631 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:42.633 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:42.634 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:42.636 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:42.638 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 5.7267ms
2025-01-13 23:40:42.639 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:44.568 +01:00 [ERR] Connection id "0HN9K4D3RQKIM", Request id "0HN9K4D3RQKIM:0000000B": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:40:44.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1944.8644ms
2025-01-13 23:40:44.576 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:44.578 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:44.620 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:40:44.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:44.673 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:44.673 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:44.674 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:44.676 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:44.676 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:44.677 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:44.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:44.679 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.2876ms
2025-01-13 23:40:44.681 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:44.691 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.606ms
2025-01-13 23:40:44.705 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:44.739 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:40:48.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:40:48.705 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:40:48.706 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:48.707 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:40:48.709 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:40:48.709 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:40:48.711 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:40:48.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:40:48.712 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.1983ms
2025-01-13 23:40:48.714 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:40:48.726 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.4516ms
2025-01-13 23:40:48.730 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:40:48.769 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:41:01.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:41:01.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:41:01.678 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:01.679 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:01.680 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:01.680 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:01.681 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:41:01.682 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:41:01.684 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:41:12.280 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:41:12.283 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:41:12.292 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:41:12.296 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 10612.6285ms
2025-01-13 23:41:12.297 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:12.330 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:41:12.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 10654.8427ms
2025-01-13 23:41:12.331 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 10646.4508ms
2025-01-13 23:41:12.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:41:12.334 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:12.335 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:12.336 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 10659.0208ms
2025-01-13 23:41:12.336 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:12.339 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:41:12.341 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:41:12.342 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.4706ms
2025-01-13 23:41:12.342 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:12.343 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 11.7544ms
2025-01-13 23:41:12.368 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:41:12.399 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:41:33.049 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:41:33.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:41:33.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:41:33.055 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:33.056 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:33.058 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:33.058 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:33.058 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:33.059 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:33.059 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:41:33.060 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:41:33.060 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:41:33.062 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:41:33.063 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:41:33.064 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:41:37.589 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 4526.2113ms
2025-01-13 23:41:37.595 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:41:40.218 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:41:40.218 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:42.916 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:41:47.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 14095.9026ms
2025-01-13 23:41:47.161 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:41:47.149 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:41:47.161 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:41:47.150 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:41:47.164 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 14102.6611ms
2025-01-13 23:41:47.164 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:41:47.176 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 14112.6426ms
2025-01-13 23:41:47.176 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:47.176 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:41:47.276 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 14227.6276ms
2025-01-13 23:41:47.276 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:41:47.278 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:42:42.851 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 55573.4685ms
2025-01-13 23:42:44.768 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:42:44.768 +01:00 [ERR] Connection id "0HN9K4D3RQKIM", Request id "0HN9K4D3RQKIM:00000019": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:42:44.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 64587.4476ms
2025-01-13 23:42:44.773 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 71721.1379ms
2025-01-13 23:42:44.773 +01:00 [ERR] An error occurred using the connection to database 'trips' on server 'tcp://localhost:5432'.
2025-01-13 23:42:44.780 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:42:44.785 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:42:44.863 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 83
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:43:18.587 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:43:18.730 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:43:18.731 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:43:18.773 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:43:18.774 +01:00 [INF] Hosting environment: Development
2025-01-13 23:43:18.774 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:43:18.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:43:19.079 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 113.2507ms
2025-01-13 23:43:19.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:43:19.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:43:19.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:43:19.166 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 29.2849ms
2025-01-13 23:43:19.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 35.5432ms
2025-01-13 23:43:19.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.997ms
2025-01-13 23:43:19.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:43:19.304 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.9815ms
2025-01-13 23:43:20.040 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:43:20.044 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:43:20.076 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:43:20.085 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:43:20.743 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:43:26.645 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:43:27.465 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:43:27.473 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 7383.2233ms
2025-01-13 23:43:27.474 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:43:27.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 7515.1033ms
2025-01-13 23:43:27.570 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:43:27.592 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:44:18.731 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids)
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:44:18.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:44:18.786 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:44:18.787 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:44:18.788 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:44:18.857 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:44:20.133 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:44:20.236 +01:00 [INF] Executed DbCommand (98ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:44:20.345 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:44:20.346 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:44:20.414 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1624.7104ms
2025-01-13 23:44:20.415 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:44:20.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 1645.0778ms
2025-01-13 23:44:28.358 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:44:28.524 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:44:28.525 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:44:28.570 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:44:28.571 +01:00 [INF] Hosting environment: Development
2025-01-13 23:44:28.572 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:44:28.673 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:44:28.852 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 181.0743ms
2025-01-13 23:44:28.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:44:28.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:44:28.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:44:28.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.3823ms
2025-01-13 23:44:28.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.6744ms
2025-01-13 23:44:28.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.2655ms
2025-01-13 23:44:29.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:44:29.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.1138ms
2025-01-13 23:44:29.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:44:29.889 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:44:29.924 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:44:29.932 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:44:30.599 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:44:38.111 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:44:39.065 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:44:39.073 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 9136.3633ms
2025-01-13 23:44:39.074 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:44:39.154 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 9269.5002ms
2025-01-13 23:44:39.166 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:44:39.191 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:45:19.025 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:45:19.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:45:19.078 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:45:19.079 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:45:19.080 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:45:19.116 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:47:00.047 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:47:09.924 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:47:16.576 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:47:54.255 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:47:54.257 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 155176.093ms
2025-01-13 23:47:54.259 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:47:54.269 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 155209.5659ms
2025-01-13 23:47:57.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:47:57.158 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:47:57.160 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:47:57.161 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:47:57.182 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:24.146 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:24.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:24.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:24.356 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:24.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:24.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:24.360 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:24.361 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:24.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:24.362 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:24.365 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:24.364 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:24.363 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:24.363 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:24.367 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 27203.9917ms
2025-01-13 23:48:24.367 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:24.369 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:24.369 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:24.370 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:24.369 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:25.550 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:25.550 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:25.551 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:25.561 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 28406.0219ms
2025-01-13 23:48:25.561 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:25.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:25.562 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:25.567 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:25.568 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1200.2477ms
2025-01-13 23:48:25.569 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:26.850 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:26.848 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:26.862 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2602.1575ms
2025-01-13 23:48:26.863 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:26.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:26.865 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:26.865 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:26.866 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1299.0532ms
2025-01-13 23:48:26.867 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:26.892 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:26.936 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2615.5799ms
2025-01-13 23:48:26.937 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1375.001ms
2025-01-13 23:48:26.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:26.939 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1375.8212ms
2025-01-13 23:48:26.940 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:26.941 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:26.942 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:26.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 2621.9541ms
2025-01-13 23:48:26.943 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:26.944 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 499 null application/json; charset=utf-8 2684.1558ms
2025-01-13 23:48:26.946 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:26.958 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:26.959 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 9.7489ms
2025-01-13 23:48:26.960 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:26.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 22.4741ms
2025-01-13 23:48:27.949 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:27.951 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:27.952 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:27.952 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:27.954 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:28.677 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:28.678 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:28.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:28.680 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 726.9664ms
2025-01-13 23:48:28.681 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:28.682 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:28.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 745.2327ms
2025-01-13 23:48:30.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:30.710 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:30.710 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:30.711 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:30.714 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:30.714 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:30.716 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:30.716 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:30.717 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 5.0262ms
2025-01-13 23:48:30.719 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:30.719 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:30.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 23.2015ms
2025-01-13 23:48:34.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:34.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:34.022 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:34.026 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:34.026 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:34.027 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:34.028 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:34.028 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:34.030 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:34.032 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:34.032 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:34.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:34.034 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:34.035 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:34.034 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2.929ms
2025-01-13 23:48:34.036 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 6.2555ms
2025-01-13 23:48:34.037 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:34.038 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:34.039 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:34.040 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:34.042 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:34.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 23.4396ms
2025-01-13 23:48:34.053 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 34.4663ms
2025-01-13 23:48:34.054 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:34.060 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:34.061 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.8227ms
2025-01-13 23:48:34.062 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:34.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 27.4637ms
2025-01-13 23:48:35.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:35.138 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:35.139 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:35.140 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:35.142 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:35.142 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:35.144 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:35.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:35.145 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.2525ms
2025-01-13 23:48:35.146 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:35.147 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:35.159 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.0847ms
2025-01-13 23:48:37.163 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:37.165 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:37.165 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:37.166 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:37.167 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:37.168 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:37.169 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:37.169 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:37.171 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.5534ms
2025-01-13 23:48:37.172 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:37.172 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:37.183 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.9783ms
2025-01-13 23:48:41.197 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:41.198 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:41.199 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:41.199 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:41.201 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:41.202 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:41.203 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:41.203 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:41.205 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.9916ms
2025-01-13 23:48:41.206 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:41.206 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:41.218 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 21.0996ms
2025-01-13 23:48:49.937 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:49.937 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:49.940 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:49.941 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:49.942 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:49.942 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:49.944 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:49.944 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:49.947 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:49.947 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:49.947 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:49.948 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.7162ms
2025-01-13 23:48:49.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:49.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:49.950 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:49.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:48:49.952 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 7.0417ms
2025-01-13 23:48:49.953 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:49.954 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 16.7346ms
2025-01-13 23:48:49.956 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:49.957 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:49.960 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:49.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 34.6375ms
2025-01-13 23:48:49.972 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:48:49.977 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:49.977 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.5664ms
2025-01-13 23:48:49.978 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:48:49.979 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 28.8681ms
2025-01-13 23:48:51.045 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:51.047 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:51.047 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:51.048 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:51.050 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:51.050 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:51.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:51.052 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:51.053 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.8406ms
2025-01-13 23:48:51.054 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:51.055 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:51.066 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 20.4686ms
2025-01-13 23:48:53.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:53.073 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:53.074 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:53.074 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:53.076 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:48:53.077 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:48:53.077 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:48:53.078 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:48:53.079 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6032ms
2025-01-13 23:48:53.080 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:48:53.080 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:53.091 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.5571ms
2025-01-13 23:48:57.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:48:57.100 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:48:57.100 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:48:57.101 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:48:57.102 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:02.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:49:02.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:05.106 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:05.115 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:05.154 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:05.160 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:06.808 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:06.809 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:49:06.809 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:06.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:06.821 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:49:06.821 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:06.822 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:06.823 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:06.824 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 12.674ms
2025-01-13 23:49:09.295 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:49:09.719 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:10.823 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:11.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 8901.2488ms
2025-01-13 23:49:11.174 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:06.824 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 9722.043ms
2025-01-13 23:49:11.587 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:11.587 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:49:11.588 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:11.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:11.599 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:49:11.599 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:11.609 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:11.607 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 14509.4322ms
2025-01-13 23:49:11.610 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4788.483ms
2025-01-13 23:49:11.610 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 20.0911ms
2025-01-13 23:49:14.365 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:14.371 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:16.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 13941.0924ms
2025-01-13 23:49:16.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 6912.0341ms
2025-01-13 23:49:17.221 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:17.223 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:17.224 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:17.224 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:17.226 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:18.891 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:18.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:18.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:18.894 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1668.5838ms
2025-01-13 23:49:18.895 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:18.896 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:18.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1685.0858ms
2025-01-13 23:49:20.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:20.914 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:20.915 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:20.915 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:20.918 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:26.790 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:26.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:26.792 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:26.793 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 5876.3418ms
2025-01-13 23:49:26.794 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:26.795 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:26.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 5893.5588ms
2025-01-13 23:49:30.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:30.818 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:30.818 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:30.819 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:30.821 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:30.822 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:30.823 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:30.823 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:30.825 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.2245ms
2025-01-13 23:49:30.826 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:30.827 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:30.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 20.4221ms
2025-01-13 23:49:32.620 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:32.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:49:32.622 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:32.624 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:32.625 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:32.625 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:32.626 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:32.627 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:49:32.630 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:32.631 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:32.631 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:32.632 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.6001ms
2025-01-13 23:49:32.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:32.633 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:32.633 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:32.633 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:49:32.635 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 6.4937ms
2025-01-13 23:49:32.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 14.645ms
2025-01-13 23:49:32.637 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:32.639 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:32.640 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:32.644 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:32.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 35.8694ms
2025-01-13 23:49:32.656 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:49:32.660 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:32.661 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.8355ms
2025-01-13 23:49:32.662 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:49:32.663 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 29.9209ms
2025-01-13 23:49:33.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:33.764 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:33.765 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:33.766 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:33.767 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:33.768 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:33.769 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:33.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:33.771 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.3595ms
2025-01-13 23:49:33.773 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:33.773 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:33.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 30.4215ms
2025-01-13 23:49:35.804 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:35.806 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:35.806 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:35.807 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:35.809 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:35.809 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:35.811 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:35.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:35.813 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.3734ms
2025-01-13 23:49:35.814 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:35.815 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:35.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.9809ms
2025-01-13 23:49:39.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:39.839 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:39.839 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:39.840 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:39.842 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:39.842 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:39.843 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:39.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:39.845 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6532ms
2025-01-13 23:49:39.846 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:39.847 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:39.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.4976ms
2025-01-13 23:49:55.355 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:55.357 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:55.357 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:55.358 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:55.359 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:55.360 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:55.361 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:55.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:55.363 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.861ms
2025-01-13 23:49:55.364 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:55.365 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:55.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19.4824ms
2025-01-13 23:49:56.391 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:49:56.392 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:49:56.393 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:56.393 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:49:56.395 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:49:56.395 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:49:56.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:49:56.396 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:49:56.398 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.5723ms
2025-01-13 23:49:56.399 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:49:56.399 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:49:56.409 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 18.6608ms
2025-01-13 23:51:02.327 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:51:02.484 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:51:02.486 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:51:02.538 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:51:02.539 +01:00 [INF] Hosting environment: Development
2025-01-13 23:51:02.539 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:51:02.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:51:02.589 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:02.675 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:02.683 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:51:02.749 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:51:02.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 104.1775ms
2025-01-13 23:51:02.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:51:02.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:51:02.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:51:02.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.9746ms
2025-01-13 23:51:02.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.5047ms
2025-01-13 23:51:02.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.4162ms
2025-01-13 23:51:03.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:51:03.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.1217ms
2025-01-13 23:51:03.388 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:51:03.422 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:51:03.671 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:03.678 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 991.4147ms
2025-01-13 23:51:03.680 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:06.312 +01:00 [ERR] Connection id "0HN9K4J0MLPV9", Request id "0HN9K4J0MLPV9:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:51:06.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3781.8421ms
2025-01-13 23:51:06.412 +01:00 [INF] Executed DbCommand (72ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:51:06.418 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:51:06.534 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:51:09.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:51:09.432 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:09.434 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:09.435 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:51:09.476 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:51:09.477 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:51:09.484 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:51:09.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:09.487 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 51.2354ms
2025-01-13 23:51:09.489 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:09.503 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 746, len: 16)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 746, len: 16)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:51:09.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 74.7093ms
2025-01-13 23:51:09.544 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 746, len: 16)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:51:10.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:51:10.777 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:10.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:51:10.780 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:10.781 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:10.782 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:51:10.783 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:51:10.788 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:51:10.798 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:51:10.799 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:51:10.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:10.805 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 21.6053ms
2025-01-13 23:51:10.806 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:10.818 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:13.644 +01:00 [ERR] Connection id "0HN9K4J0MLPV9", Request id "0HN9K4J0MLPV9:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:51:13.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:51:13.673 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2898.8814ms
2025-01-13 23:51:13.674 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2883.7124ms
2025-01-13 23:51:13.674 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:13.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:51:13.677 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:51:13.677 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:51:13.677 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:13.679 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:13.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 2900.2404ms
2025-01-13 23:51:13.681 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:51:13.681 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:51:13.682 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:51:13.685 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:51:13.699 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:51:13.759 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:51:13.759 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:51:13.762 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:13.764 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:13.764 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3.95ms
2025-01-13 23:51:13.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:51:13.765 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 81.54ms
2025-01-13 23:51:13.766 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:51:13.768 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:13.768 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 93.8453ms
2025-01-13 23:51:13.778 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 108.1513ms
2025-01-13 23:51:13.790 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:51:13.825 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:51:15.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:51:15.787 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:51:15.788 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:15.789 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:51:15.791 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:51:15.792 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:51:15.793 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:51:15.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:51:15.795 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.9972ms
2025-01-13 23:51:15.797 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:51:15.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 24.5466ms
2025-01-13 23:51:15.813 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:51:15.853 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:53:33.395 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:53:33.534 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:53:33.535 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:53:33.575 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:53:33.576 +01:00 [INF] Hosting environment: Development
2025-01-13 23:53:33.576 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:53:33.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:53:33.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:53:33.838 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:53:33.871 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:33.887 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:53:33.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.7771ms
2025-01-13 23:53:33.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:53:33.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:53:33.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:53:34.003 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.1879ms
2025-01-13 23:53:34.007 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.5857ms
2025-01-13 23:53:34.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.9987ms
2025-01-13 23:53:34.120 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:53:34.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.4843ms
2025-01-13 23:53:34.576 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:53:34.614 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:53:34.876 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:53:34.882 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 992.0469ms
2025-01-13 23:53:34.884 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:37.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:53:37.341 +01:00 [ERR] Connection id "0HN9K4KDNS7CC", Request id "0HN9K4KDNS7CC:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:53:37.342 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:53:37.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3693.6514ms
2025-01-13 23:53:37.359 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:37.361 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:53:37.401 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:53:37.402 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:53:37.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:53:37.408 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 46.2806ms
2025-01-13 23:53:37.409 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:38.532 +01:00 [ERR] Connection id "0HN9K4KDNS7CC", Request id "0HN9K4KDNS7CC:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:53:38.532 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:53:38.535 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1197.7517ms
2025-01-13 23:53:38.537 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:53:38.539 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:38.540 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:53:38.554 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:53:38.555 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:53:38.557 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:53:38.559 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 17.4769ms
2025-01-13 23:53:38.560 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:39.086 +01:00 [ERR] Connection id "0HN9K4KDNS7CC", Request id "0HN9K4KDNS7CC:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:53:39.091 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 559.3124ms
2025-01-13 23:53:39.103 +01:00 [INF] Executed DbCommand (1,735ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:53:39.103 +01:00 [INF] Executed DbCommand (560ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:53:39.103 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:53:39.110 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:53:39.110 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:53:39.110 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:53:39.255 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:53:39.256 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:53:39.270 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:53:40.576 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:53:40.578 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:53:40.578 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:40.579 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:53:40.581 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:53:40.582 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:53:40.587 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:53:40.588 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:53:40.589 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 8.9044ms
2025-01-13 23:53:40.591 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:40.606 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 30.7661ms
2025-01-13 23:53:40.607 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:53:40.652 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:53:44.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:53:44.615 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:53:44.615 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:44.616 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:53:44.618 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:53:44.619 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:53:44.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:53:44.621 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:53:44.622 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.8465ms
2025-01-13 23:53:44.624 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:53:44.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.7759ms
2025-01-13 23:53:44.649 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:53:44.689 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:55:30.962 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:55:31.106 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:55:31.107 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:55:31.147 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:55:31.148 +01:00 [INF] Hosting environment: Development
2025-01-13 23:55:31.149 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:55:31.382 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:55:31.496 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.5729ms
2025-01-13 23:55:31.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:55:31.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:55:31.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:55:31.563 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 6.5284ms
2025-01-13 23:55:31.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 43.1315ms
2025-01-13 23:55:31.613 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.4629ms
2025-01-13 23:55:31.709 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:55:31.739 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.1656ms
2025-01-13 23:55:32.700 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:55:32.704 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:32.736 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:32.744 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:55:33.386 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:55:33.423 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:55:33.669 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:33.675 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 927.8565ms
2025-01-13 23:55:33.676 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:35.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:55:35.729 +01:00 [ERR] Connection id "0HN9K4LGPG58A", Request id "0HN9K4LGPG58A:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:55:35.732 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:35.755 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3054.8058ms
2025-01-13 23:55:35.755 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:35.758 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:55:35.796 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:55:35.797 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:55:35.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:35.802 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 43.098ms
2025-01-13 23:55:35.803 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:36.358 +01:00 [ERR] Connection id "0HN9K4LGPG58A", Request id "0HN9K4LGPG58A:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:55:36.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 635.1024ms
2025-01-13 23:55:36.402 +01:00 [INF] Executed DbCommand (644ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:55:36.402 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:55:36.408 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:55:36.408 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:55:36.527 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:55:36.527 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:55:37.820 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:55:37.823 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:37.825 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:37.826 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:55:37.840 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:55:37.840 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:55:37.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:37.846 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:55:37.848 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 21.1863ms
2025-01-13 23:55:37.850 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:37.865 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:55:37.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 45.0245ms
2025-01-13 23:55:37.911 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ArgumentOutOfRangeException: Buffer requirement is larger than the remaining length of the value, make sure the value is always at least this size or use an upper bound requirement instead. (Parameter 'byteCount')
   at Npgsql.ThrowHelper.ThrowArgumentOutOfRangeException(String paramName, String message)
   at Npgsql.Internal.PgReader.<ShouldBuffer>g__ShouldBufferSlow|115_0(<>c__DisplayClass115_0&)
   at Npgsql.Internal.PgReader.ShouldBuffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.ShouldBuffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:55:41.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:55:41.877 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:41.878 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:41.878 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:55:41.880 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:55:41.881 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:55:41.882 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:41.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:55:41.883 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.2846ms
2025-01-13 23:55:41.885 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:41.896 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 20.8612ms
2025-01-13 23:55:41.909 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:55:41.949 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:55:58.168 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:55:58.168 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:55:58.170 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:58.172 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:58.172 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:58.173 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:55:58.174 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:55:58.177 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:55:59.652 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:55:59.653 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:55:59.665 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:55:59.675 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:59.678 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1502.3708ms
2025-01-13 23:55:59.679 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 21.6511ms
2025-01-13 23:55:59.679 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:55:59.683 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:55:59.683 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:55:59.730 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:55:59.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1562.2914ms
2025-01-13 23:55:59.730 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:55:59.733 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:55:59.735 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:55:59.738 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 4.8152ms
2025-01-13 23:55:59.739 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:55:59.740 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 57.1809ms
2025-01-13 23:56:00.717 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:56:00.719 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:00.720 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:00.721 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:56:00.723 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:56:01.787 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:56:01.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:56:01.799 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:56:01.801 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1078.9776ms
2025-01-13 23:56:01.802 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:01.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1095.3192ms
2025-01-13 23:56:01.816 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:56:01.854 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.InvalidOperationException: Cannot restart a non-initialized reader.
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.Internal.PgReader.Restart(Boolean resumable)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDateTime(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:56:12.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:56:36.393 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:56:36.533 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:56:36.534 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:56:36.572 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:56:36.573 +01:00 [INF] Hosting environment: Development
2025-01-13 23:56:36.573 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:56:36.969 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:56:37.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 122.8053ms
2025-01-13 23:56:37.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:56:37.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:56:37.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:56:37.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.556ms
2025-01-13 23:56:37.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.6223ms
2025-01-13 23:56:37.163 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.363ms
2025-01-13 23:56:37.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:56:37.296 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.5816ms
2025-01-13 23:56:39.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:56:39.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:56:39.879 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:39.879 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:39.936 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:39.936 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:39.946 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:56:39.946 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:56:40.600 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:56:40.609 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:56:40.610 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 659.3671ms
2025-01-13 23:56:40.612 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:40.612 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:40.613 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:40.614 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:56:40.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 743.1517ms
2025-01-13 23:56:40.660 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:56:40.664 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 48.7448ms
2025-01-13 23:56:40.665 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:40.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 56.6437ms
2025-01-13 23:56:40.701 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:56:41.737 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:56:42.219 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:56:42.298 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:56:50.294 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:56:50.314 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 10366.8026ms
2025-01-13 23:56:50.315 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:50.317 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 10445.1449ms
2025-01-13 23:56:54.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:56:54.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:56:54.312 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:54.313 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:54.314 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:54.315 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:54.316 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:56:54.316 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:56:54.319 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:56:56.354 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:56:56.363 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:56:56.365 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:56:56.365 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:56:56.366 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2046.9058ms
2025-01-13 23:56:56.366 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:56:56.367 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:56.367 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:56:56.368 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2050.3648ms
2025-01-13 23:56:56.368 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 2058.1683ms
2025-01-13 23:56:56.370 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:56:56.370 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:56:56.372 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:56.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 2063.7515ms
2025-01-13 23:56:56.374 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:56:56.377 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:56:56.378 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.77ms
2025-01-13 23:56:56.379 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:56:56.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 12.4344ms
2025-01-13 23:57:05.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:57:05.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:05.847 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:05.849 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:05.849 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:05.850 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:05.851 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:57:05.852 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:05.855 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:05.856 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.9411ms
2025-01-13 23:57:05.857 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:57:05.857 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:05.858 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:57:05.858 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:05.859 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 13.9314ms
2025-01-13 23:57:05.861 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:05.861 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:57:05.863 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:05.865 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:57:05.865 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:05.866 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:57:05.868 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:05.868 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 14.9823ms
2025-01-13 23:57:05.869 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.813ms
2025-01-13 23:57:05.869 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:05.870 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:05.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 26.4325ms
2025-01-13 23:57:05.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 13.4448ms
2025-01-13 23:57:10.163 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:57:10.165 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:10.166 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:10.167 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:10.167 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:57:10.169 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:10.171 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:10.171 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:57:10.172 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:10.173 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:57:10.175 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:10.176 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:57:10.176 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2.0442ms
2025-01-13 23:57:10.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:10.178 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:57:10.179 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:10.181 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:10.181 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:57:10.182 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 15.7717ms
2025-01-13 23:57:10.183 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:10.184 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 13.9831ms
2025-01-13 23:57:10.187 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:10.188 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:10.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 26.8872ms
2025-01-13 23:57:10.190 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:10.193 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 4.181ms
2025-01-13 23:57:10.194 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:10.195 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 16.8658ms
2025-01-13 23:57:12.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:57:12.378 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:12.379 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:12.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:12.380 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:57:12.381 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:12.383 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:12.384 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:57:12.384 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:12.384 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:57:12.386 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:12.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:57:12.387 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2.0409ms
2025-01-13 23:57:12.389 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:12.389 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:57:12.390 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:12.391 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:12.392 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:57:12.393 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 13.0835ms
2025-01-13 23:57:12.393 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:12.394 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 11.7585ms
2025-01-13 23:57:12.396 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:12.397 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:12.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 22.524ms
2025-01-13 23:57:12.399 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:12.402 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3.7357ms
2025-01-13 23:57:12.403 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:12.403 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 14.0725ms
2025-01-13 23:57:16.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:57:16.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:16.131 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:16.134 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:16.134 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:16.135 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:16.135 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:57:16.136 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:16.138 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:57:16.139 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:16.139 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:57:16.140 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.6819ms
2025-01-13 23:57:16.141 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:16.142 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:16.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 12.1169ms
2025-01-13 23:57:16.142 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:57:16.148 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:16.152 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:57:16.152 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:16.153 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:57:16.153 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:16.154 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 17.2736ms
2025-01-13 23:57:16.156 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:16.156 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:16.157 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1.699ms
2025-01-13 23:57:16.158 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 28.3569ms
2025-01-13 23:57:16.158 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:16.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 19.1491ms
2025-01-13 23:57:19.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:57:19.013 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:19.014 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:19.015 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:57:19.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:19.018 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:57:19.018 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:19.019 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:57:19.019 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:19.020 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:19.021 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:57:19.023 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:19.025 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2.5735ms
2025-01-13 23:57:19.024 +01:00 [INF] Successfully fetched 2 destinations.
2025-01-13 23:57:19.026 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:19.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-13 23:57:19.063 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-13 23:57:19.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 48.876ms
2025-01-13 23:57:19.067 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:57:19.068 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 51.4448ms
2025-01-13 23:57:19.071 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:19.071 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:57:19.072 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-13 23:57:19.073 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 61.5093ms
2025-01-13 23:57:19.075 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:57:19.077 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2.9225ms
2025-01-13 23:57:19.077 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-13 23:57:19.078 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 51.6944ms
2025-01-13 23:58:22.710 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-13 23:58:22.886 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-13 23:58:22.887 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-13 23:58:22.928 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-13 23:58:22.929 +01:00 [INF] Hosting environment: Development
2025-01-13 23:58:22.930 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-13 23:58:23.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:58:23.132 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:58:23.166 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:23.176 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:58:23.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-13 23:58:23.409 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 101.7468ms
2025-01-13 23:58:23.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-13 23:58:23.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-13 23:58:23.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-13 23:58:23.466 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 2.8343ms
2025-01-13 23:58:23.478 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 14.845ms
2025-01-13 23:58:23.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.2136ms
2025-01-13 23:58:23.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-13 23:58:23.636 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.7892ms
2025-01-13 23:58:23.918 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:58:23.954 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:58:24.210 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:58:24.217 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1037.9536ms
2025-01-13 23:58:24.219 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:26.490 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:58:26.493 +01:00 [ERR] Connection id "0HN9K4N3VI3GB", Request id "0HN9K4N3VI3GB:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:58:26.495 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:58:26.519 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3481.5392ms
2025-01-13 23:58:26.519 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:26.521 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:58:26.623 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:58:26.624 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:58:26.628 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:58:26.629 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 107.276ms
2025-01-13 23:58:26.631 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:27.637 +01:00 [ERR] Connection id "0HN9K4N3VI3GB", Request id "0HN9K4N3VI3GB:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-13 23:58:27.642 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1151.217ms
2025-01-13 23:58:27.669 +01:00 [INF] Executed DbCommand (1,150ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:58:27.669 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:58:27.677 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:58:27.677 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:58:27.858 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:58:27.858 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
2025-01-13 23:58:28.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-13 23:58:28.660 +01:00 [INF] CORS policy execution successful.
2025-01-13 23:58:28.663 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:28.664 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-13 23:58:28.677 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-13 23:58:28.678 +01:00 [INF] Fetching destinations for provided IDs.
2025-01-13 23:58:28.685 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__6, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-13 23:58:28.685 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ids_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__ids_0)
2025-01-13 23:58:28.686 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 21.4115ms
2025-01-13 23:58:28.688 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-13 23:58:28.703 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 46.5985ms
2025-01-13 23:58:58.716 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count)
   at Npgsql.Internal.PgReader.Buffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.Buffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.<StartRead>g__BufferNoInlined|93_0(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count)
   at Npgsql.Internal.PgReader.Buffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.Buffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.<StartRead>g__BufferNoInlined|93_0(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-13 23:58:58.756 +01:00 [ERR] An error occurred while fetching destinations for provided IDs.
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count)
   at Npgsql.Internal.PgReader.Buffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.Buffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.<StartRead>g__BufferNoInlined|93_0(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Infrastructure.Respository.DestinationRepository.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Infrastructure\Respository\DestinationRepository.cs:line 86
   at backend.Application.Services.DestinationService.GetDestinationsByIdsAsync(List`1 ids) in C:\Project\trips\backend\backend.Application\Services\DestinationsService.cs:line 284
