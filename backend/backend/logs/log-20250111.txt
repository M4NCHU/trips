2025-01-11 13:00:58.529 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 13:00:58.752 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 13:00:58.754 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 13:00:58.806 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 13:00:58.807 +01:00 [INF] Hosting environment: Development
2025-01-11 13:00:58.807 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 13:00:59.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger - null null
2025-01-11 13:00:59.186 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger - 301 0 null 122.0955ms
2025-01-11 13:00:59.191 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 13:00:59.241 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 49.5159ms
2025-01-11 13:00:59.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/swagger-ui.css - null null
2025-01-11 13:00:59.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 13:00:59.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/swagger-ui-standalone-preset.js - null null
2025-01-11 13:00:59.313 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 7.9421ms
2025-01-11 13:00:59.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 13:00:59.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.css - null null
2025-01-11 13:00:59.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/swagger-ui-bundle.js - null null
2025-01-11 13:00:59.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 13:00:59.332 +01:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-11 13:00:59.340 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 34.2797ms
2025-01-11 13:00:59.344 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.css - 200 202 text/css 39.9355ms
2025-01-11 13:00:59.347 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-11 13:00:59.348 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-11 13:00:59.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/swagger-ui.css - 200 152035 text/css 49.8166ms
2025-01-11 13:00:59.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 50.1824ms
2025-01-11 13:00:59.371 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-11 13:00:59.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 68.1913ms
2025-01-11 13:00:59.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.6357ms
2025-01-11 13:00:59.564 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 13:00:59.596 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.2577ms
2025-01-11 13:05:21.248 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 13:05:21.251 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 13:05:21.251 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 13:05:21.258 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:21.258 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:21.258 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:21.260 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - 204 null null 9.0518ms
2025-01-11 13:05:21.260 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - 204 null null 9.0525ms
2025-01-11 13:05:21.289 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 13:05:21.289 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 13:05:21.293 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:21.298 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:21.382 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 13:05:21.382 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:05:21.382 +01:00 [INF] Executing endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 13:05:21.392 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 13:05:21.392 +01:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.CategoryDTO]]] GetCategories(Int32, Int32) on controller backend.Controllers.CategoryController (backend).
2025-01-11 13:05:21.392 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:05:22.350 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:05:22.359 +01:00 [INF] Fetching paginated categories for page 1 with page size 2
2025-01-11 13:05:22.360 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:05:22.362 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:05:22.636 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-11 13:05:22.636 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Category" AS c
2025-01-11 13:05:22.650 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 13:05:22.669 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."Icon", c."ModifiedAt", c."Name", c."PhotoUrl"
FROM "Category" AS c
ORDER BY c."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-01-11 13:05:22.705 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-11 13:05:22.716 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.CategoryDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:05:22.721 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 13:05:22.724 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:05:22.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 13:05:22.738 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1342.9072ms
2025-01-11 13:05:22.738 +01:00 [INF] Executed action backend.Controllers.CategoryController.GetCategories (backend) in 1343.0121ms
2025-01-11 13:05:22.739 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:05:22.739 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 13:05:22.739 +01:00 [INF] Executed endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 13:05:22.741 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 13:05:22.742 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 13:05:22.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - 200 null application/json; charset=utf-8 1455.7448ms
2025-01-11 13:05:22.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1496.5169ms
2025-01-11 13:05:22.756 +01:00 [INF] Successfully fetched 6 destinations.
2025-01-11 13:05:22.757 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:05:22.761 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 1366.5622ms
2025-01-11 13:05:22.762 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:05:22.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - 200 null application/json; charset=utf-8 1474.6183ms
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20241228162018_11f0e4bb-3d14-4849-8d7c-1e224aef746d.png - null null
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106161654_bad64b3c-2920-4cdf-bfa5-b5a5447c58c8.jpg - null null
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106141016_54ffc463-cb60-42c0-b96c-223cc633cb9e.jpg - null null
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106161239_e4037aea-c1ce-45ff-b1e2-d852032e0aed.jpg - null null
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250109222932_f010c23d-ee99-4ddb-a4a5-18ed8e2018ef.jpg - null null
2025-01-11 13:05:22.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106153302_e150f6ec-4895-4e6c-9a25-ca031f107fd4.jpg - null null
2025-01-11 13:05:22.826 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 13:05:22.830 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20250109222932_f010c23d-ee99-4ddb-a4a5-18ed8e2018ef.jpg'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20250109222932_f010c23d-ee99-4ddb-a4a5-18ed8e2018ef.jpg'
2025-01-11 13:05:22.830 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20241228162018_11f0e4bb-3d14-4849-8d7c-1e224aef746d.png'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20241228162018_11f0e4bb-3d14-4849-8d7c-1e224aef746d.png'
2025-01-11 13:05:22.832 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250109222932_f010c23d-ee99-4ddb-a4a5-18ed8e2018ef.jpg - 200 147817 image/jpeg 59.0391ms
2025-01-11 13:05:22.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 13:05:22.833 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20241228162018_11f0e4bb-3d14-4849-8d7c-1e224aef746d.png - 200 17742 image/png 60.1749ms
2025-01-11 13:05:22.837 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:05:22.840 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 97.2307ms
2025-01-11 13:05:22.841 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 13:05:22.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 105.5245ms
2025-01-11 13:05:22.899 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20250106141016_54ffc463-cb60-42c0-b96c-223cc633cb9e.jpg'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20250106141016_54ffc463-cb60-42c0-b96c-223cc633cb9e.jpg'
2025-01-11 13:05:22.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106141016_54ffc463-cb60-42c0-b96c-223cc633cb9e.jpg - 200 4848495 image/jpeg 127.2502ms
2025-01-11 13:05:22.901 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20250106161239_e4037aea-c1ce-45ff-b1e2-d852032e0aed.jpg'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20250106161239_e4037aea-c1ce-45ff-b1e2-d852032e0aed.jpg'
2025-01-11 13:05:22.901 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20250106161654_bad64b3c-2920-4cdf-bfa5-b5a5447c58c8.jpg'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20250106161654_bad64b3c-2920-4cdf-bfa5-b5a5447c58c8.jpg'
2025-01-11 13:05:22.901 +01:00 [INF] Sending file. Request path: '/Destinations/Destinations_20250106153302_e150f6ec-4895-4e6c-9a25-ca031f107fd4.jpg'. Physical path: 'C:\Project\trips\backend\backend\Images\Destinations\Destinations_20250106153302_e150f6ec-4895-4e6c-9a25-ca031f107fd4.jpg'
2025-01-11 13:05:22.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106161239_e4037aea-c1ce-45ff-b1e2-d852032e0aed.jpg - 200 4848495 image/jpeg 129.7088ms
2025-01-11 13:05:22.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106161654_bad64b3c-2920-4cdf-bfa5-b5a5447c58c8.jpg - 200 4848495 image/jpeg 130.7024ms
2025-01-11 13:05:22.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/Images/Destinations/Destinations_20250106153302_e150f6ec-4895-4e6c-9a25-ca031f107fd4.jpg - 200 4848495 image/jpeg 131.7852ms
2025-01-11 13:20:11.903 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 13:20:11.903 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 13:20:11.906 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:11.908 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:11.908 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - 204 null null 31.5036ms
2025-01-11 13:20:11.909 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - 204 null null 31.9721ms
2025-01-11 13:20:11.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 13:20:11.912 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 13:20:11.920 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:11.921 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:11.922 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:11.922 +01:00 [INF] Executing endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 13:20:11.922 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:11.923 +01:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.CategoryDTO]]] GetCategories(Int32, Int32) on controller backend.Controllers.CategoryController (backend).
2025-01-11 13:20:11.926 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:11.926 +01:00 [INF] Fetching paginated categories for page 1 with page size 2
2025-01-11 13:20:11.926 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:11.928 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:11.960 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Category" AS c
2025-01-11 13:20:11.960 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-11 13:20:11.963 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."Icon", c."ModifiedAt", c."Name", c."PhotoUrl"
FROM "Category" AS c
ORDER BY c."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-01-11 13:20:11.966 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.CategoryDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:11.966 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-11 13:20:11.967 +01:00 [INF] Executed action backend.Controllers.CategoryController.GetCategories (backend) in 42.0876ms
2025-01-11 13:20:11.969 +01:00 [INF] Successfully fetched 6 destinations.
2025-01-11 13:20:11.970 +01:00 [INF] Executed endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 13:20:11.970 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:11.971 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - 200 null application/json; charset=utf-8 59.7995ms
2025-01-11 13:20:11.972 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 48.173ms
2025-01-11 13:20:11.975 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:11.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - 200 null application/json; charset=utf-8 66.0093ms
2025-01-11 13:20:19.592 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56031755582904&northEastLng=0.019082533086889345&southWestLat=51.448765110903736&southWestLng=-0.16081858995998569&page=1&pageSize=20 - null null
2025-01-11 13:20:19.594 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:19.595 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56031755582904&northEastLng=0.019082533086889345&southWestLat=51.448765110903736&southWestLng=-0.16081858995998569&page=1&pageSize=20 - 204 null null 2.4126ms
2025-01-11 13:20:19.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56031755582904&northEastLng=0.019082533086889345&southWestLat=51.448765110903736&southWestLng=-0.16081858995998569&page=1&pageSize=20 - null null
2025-01-11 13:20:19.597 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:19.598 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:19.599 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:19.604 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:19.606 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:19.606 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:19.626 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:19.634 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:19.636 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:19.637 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:19.638 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 38.1289ms
2025-01-11 13:20:19.638 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:19.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56031755582904&northEastLng=0.019082533086889345&southWestLat=51.448765110903736&southWestLng=-0.16081858995998569&page=1&pageSize=20 - 200 null application/json; charset=utf-8 43.6043ms
2025-01-11 13:20:22.154 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56031754726698&northEastLng=0.05149841308593751&southWestLat=51.44876510232069&southWestLng=-0.12840270996093753&page=1&pageSize=20 - null null
2025-01-11 13:20:22.155 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:22.156 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56031754726698&northEastLng=0.05149841308593751&southWestLat=51.44876510232069&southWestLng=-0.12840270996093753&page=1&pageSize=20 - 204 null null 2.0845ms
2025-01-11 13:20:22.157 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56031754726698&northEastLng=0.05149841308593751&southWestLat=51.44876510232069&southWestLng=-0.12840270996093753&page=1&pageSize=20 - null null
2025-01-11 13:20:22.159 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:22.159 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:22.160 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:22.161 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:22.162 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:22.163 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:22.165 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:22.167 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:22.169 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:22.169 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:22.170 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 9.1357ms
2025-01-11 13:20:22.171 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:22.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56031754726698&northEastLng=0.05149841308593751&southWestLat=51.44876510232069&southWestLng=-0.12840270996093753&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.6634ms
2025-01-11 13:20:24.178 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56287876070054&northEastLng=0.03501892089843751&southWestLat=51.451332593554355&southWestLng=-0.14488220214843753&page=1&pageSize=20 - null null
2025-01-11 13:20:24.181 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:24.181 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56287876070054&northEastLng=0.03501892089843751&southWestLat=51.451332593554355&southWestLng=-0.14488220214843753&page=1&pageSize=20 - 204 null null 2.6078ms
2025-01-11 13:20:24.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56287876070054&northEastLng=0.03501892089843751&southWestLat=51.451332593554355&southWestLng=-0.14488220214843753&page=1&pageSize=20 - null null
2025-01-11 13:20:24.184 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:24.185 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:24.185 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:24.187 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:24.188 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:24.188 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:24.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:24.192 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:24.194 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:24.194 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:24.195 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.6915ms
2025-01-11 13:20:24.196 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:24.197 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56287876070054&northEastLng=0.03501892089843751&southWestLat=51.451332593554355&southWestLng=-0.14488220214843753&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.1011ms
2025-01-11 13:20:25.477 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.555514883267996&northEastLng=0.012016296386718752&southWestLat=51.443950667096615&southWestLng=-0.16788482666015628&page=1&pageSize=20 - null null
2025-01-11 13:20:25.479 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:25.479 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.555514883267996&northEastLng=0.012016296386718752&southWestLat=51.443950667096615&southWestLng=-0.16788482666015628&page=1&pageSize=20 - 204 null null 2.4602ms
2025-01-11 13:20:25.480 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.555514883267996&northEastLng=0.012016296386718752&southWestLat=51.443950667096615&southWestLng=-0.16788482666015628&page=1&pageSize=20 - null null
2025-01-11 13:20:25.482 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:25.483 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:25.484 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:25.485 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:25.486 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:25.486 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:25.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:25.490 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:25.491 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:25.492 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:25.493 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.3562ms
2025-01-11 13:20:25.494 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:25.494 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.555514883267996&northEastLng=0.012016296386718752&southWestLat=51.443950667096615&southWestLng=-0.16788482666015628&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.1633ms
2025-01-11 13:20:26.842 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.545481015589345&northEastLng=-0.006523132324218751&southWestLat=51.433892209165236&southWestLng=-0.18642425537109375&page=1&pageSize=20 - null null
2025-01-11 13:20:26.843 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:26.844 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.545481015589345&northEastLng=-0.006523132324218751&southWestLat=51.433892209165236&southWestLng=-0.18642425537109375&page=1&pageSize=20 - 204 null null 2.147ms
2025-01-11 13:20:26.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.545481015589345&northEastLng=-0.006523132324218751&southWestLat=51.433892209165236&southWestLng=-0.18642425537109375&page=1&pageSize=20 - null null
2025-01-11 13:20:26.847 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:26.847 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:26.848 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:26.849 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:26.850 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:26.850 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:26.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:26.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:26.856 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:26.856 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:26.857 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.6307ms
2025-01-11 13:20:26.858 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:26.859 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.545481015589345&northEastLng=-0.006523132324218751&southWestLat=51.433892209165236&southWestLng=-0.18642425537109375&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.2261ms
2025-01-11 13:20:27.875 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.5670404248718&northEastLng=0.09510040283203125&southWestLat=51.343695298223864&southWestLng=-0.2647018432617188&page=1&pageSize=20 - null null
2025-01-11 13:20:27.877 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:27.877 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.5670404248718&northEastLng=0.09510040283203125&southWestLat=51.343695298223864&southWestLng=-0.2647018432617188&page=1&pageSize=20 - 204 null null 2.2188ms
2025-01-11 13:20:27.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.5670404248718&northEastLng=0.09510040283203125&southWestLat=51.343695298223864&southWestLng=-0.2647018432617188&page=1&pageSize=20 - null null
2025-01-11 13:20:27.880 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:27.881 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:27.882 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:27.883 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:27.884 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:27.884 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:27.886 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:27.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:27.889 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:27.890 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:27.891 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.3925ms
2025-01-11 13:20:27.892 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:27.892 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.5670404248718&northEastLng=0.09510040283203125&southWestLat=51.343695298223864&southWestLng=-0.2647018432617188&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.0698ms
2025-01-11 13:20:29.000 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.7142669290121&northEastLng=0.679779052734375&southWestLat=50.8172154136119&southWestLng=-0.7594299316406251&page=1&pageSize=20 - null null
2025-01-11 13:20:29.001 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:29.002 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.7142669290121&northEastLng=0.679779052734375&southWestLat=50.8172154136119&southWestLng=-0.7594299316406251&page=1&pageSize=20 - 204 null null 2.1774ms
2025-01-11 13:20:29.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.7142669290121&northEastLng=0.679779052734375&southWestLat=50.8172154136119&southWestLng=-0.7594299316406251&page=1&pageSize=20 - null null
2025-01-11 13:20:29.009 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:29.010 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:29.011 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:29.012 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:29.013 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:29.013 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:29.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:29.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:29.018 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:29.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:29.019 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 7.6421ms
2025-01-11 13:20:29.020 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:29.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.7142669290121&northEastLng=0.679779052734375&southWestLat=50.8172154136119&southWestLng=-0.7594299316406251&page=1&pageSize=20 - 200 null application/json; charset=utf-8 12.8652ms
2025-01-11 13:20:30.207 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=52.32526831457077&northEastLng=2.9992675781250004&southWestLat=48.680080770292875&southWestLng=-2.757568359375&page=1&pageSize=20 - null null
2025-01-11 13:20:30.209 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:30.210 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=52.32526831457077&northEastLng=2.9992675781250004&southWestLat=48.680080770292875&southWestLng=-2.757568359375&page=1&pageSize=20 - 204 null null 2.3879ms
2025-01-11 13:20:30.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=52.32526831457077&northEastLng=2.9992675781250004&southWestLat=48.680080770292875&southWestLng=-2.757568359375&page=1&pageSize=20 - null null
2025-01-11 13:20:30.213 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:30.214 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:30.214 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:30.216 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:30.217 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:30.217 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:30.219 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:30.221 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:30.222 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:30.223 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:30.224 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.4066ms
2025-01-11 13:20:30.225 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:30.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=52.32526831457077&northEastLng=2.9992675781250004&southWestLat=48.680080770292875&southWestLng=-2.757568359375&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.634ms
2025-01-11 13:20:31.405 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=54.68653423452972&northEastLng=12.282714843750002&southWestLat=39.18117526158749&southWestLng=-10.744628906250002&page=1&pageSize=20 - null null
2025-01-11 13:20:31.406 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:31.407 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=54.68653423452972&northEastLng=12.282714843750002&southWestLat=39.18117526158749&southWestLng=-10.744628906250002&page=1&pageSize=20 - 204 null null 1.9262ms
2025-01-11 13:20:31.408 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=54.68653423452972&northEastLng=12.282714843750002&southWestLat=39.18117526158749&southWestLng=-10.744628906250002&page=1&pageSize=20 - null null
2025-01-11 13:20:31.410 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:31.411 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:31.411 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:31.413 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:31.414 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:31.415 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:31.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:31.418 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:31.419 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:31.420 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:31.421 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.7635ms
2025-01-11 13:20:31.422 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:31.423 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=54.68653423452972&northEastLng=12.282714843750002&southWestLat=39.18117526158749&southWestLng=-10.744628906250002&page=1&pageSize=20 - 200 null application/json; charset=utf-8 14.2751ms
2025-01-11 13:20:32.593 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=57.77451753559619&northEastLng=21.4453125&southWestLat=24.487148563173424&southWestLng=-24.609375000000004&page=1&pageSize=20 - null null
2025-01-11 13:20:32.594 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:32.595 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=57.77451753559619&northEastLng=21.4453125&southWestLat=24.487148563173424&southWestLng=-24.609375000000004&page=1&pageSize=20 - 204 null null 2.2619ms
2025-01-11 13:20:32.601 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=57.77451753559619&northEastLng=21.4453125&southWestLat=24.487148563173424&southWestLng=-24.609375000000004&page=1&pageSize=20 - null null
2025-01-11 13:20:32.602 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:32.603 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:32.604 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:32.605 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:32.606 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:32.607 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:32.608 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:32.610 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:32.611 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:32.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:32.612 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 7.5113ms
2025-01-11 13:20:32.613 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:32.614 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=57.77451753559619&northEastLng=21.4453125&southWestLat=24.487148563173424&southWestLng=-24.609375000000004&page=1&pageSize=20 - 200 null application/json; charset=utf-8 12.8119ms
2025-01-11 13:20:34.258 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=58.07787626787517&northEastLng=29.135742187500004&southWestLat=25.005972656239187&southWestLng=-16.918945312500004&page=1&pageSize=20 - null null
2025-01-11 13:20:34.259 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:34.260 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=58.07787626787517&northEastLng=29.135742187500004&southWestLat=25.005972656239187&southWestLng=-16.918945312500004&page=1&pageSize=20 - 204 null null 2.2139ms
2025-01-11 13:20:34.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=58.07787626787517&northEastLng=29.135742187500004&southWestLat=25.005972656239187&southWestLng=-16.918945312500004&page=1&pageSize=20 - null null
2025-01-11 13:20:34.263 +01:00 [INF] CORS policy execution successful.
2025-01-11 13:20:34.264 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:34.264 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 13:20:34.266 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 13:20:34.266 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:34.267 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 13:20:34.269 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 13:20:34.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 13:20:34.272 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 13:20:34.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 13:20:34.273 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 8.0531ms
2025-01-11 13:20:34.274 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 13:20:34.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=58.07787626787517&northEastLng=29.135742187500004&southWestLat=25.005972656239187&southWestLng=-16.918945312500004&page=1&pageSize=20 - 200 null application/json; charset=utf-8 13.5138ms
2025-01-11 15:20:22.408 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:22.408 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:22.410 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:22.412 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:22.412 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - 204 null null 3.8716ms
2025-01-11 15:20:22.449 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - 204 null null 40.29ms
2025-01-11 15:20:22.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:22.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:22.456 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:22.457 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:22.458 +01:00 [INF] Executing endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:22.458 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:22.459 +01:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.CategoryDTO]]] GetCategories(Int32, Int32) on controller backend.Controllers.CategoryController (backend).
2025-01-11 15:20:22.459 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 15:20:22.461 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 15:20:22.462 +01:00 [INF] Fetching paginated categories for page 1 with page size 2
2025-01-11 15:20:22.462 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:22.463 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:22.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Category" AS c
2025-01-11 15:20:22.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-11 15:20:22.489 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."Icon", c."ModifiedAt", c."Name", c."PhotoUrl"
FROM "Category" AS c
ORDER BY c."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-01-11 15:20:22.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-11 15:20:22.491 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.CategoryDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:22.492 +01:00 [INF] Successfully fetched 6 destinations.
2025-01-11 15:20:22.493 +01:00 [INF] Executed action backend.Controllers.CategoryController.GetCategories (backend) in 32.321ms
2025-01-11 15:20:22.493 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:22.494 +01:00 [INF] Executed endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:22.495 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 33.4421ms
2025-01-11 15:20:22.495 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - 200 null application/json; charset=utf-8 42.7007ms
2025-01-11 15:20:22.496 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:22.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - 200 null application/json; charset=utf-8 46.6658ms
2025-01-11 15:20:25.618 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56074442619012&northEastLng=0&southWestLat=51.44919302755286&southWestLng=-0.17990112304687503&page=1&pageSize=20 - null null
2025-01-11 15:20:25.620 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:25.621 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?northEastLat=51.56074442619012&northEastLng=0&southWestLat=51.44919302755286&southWestLng=-0.17990112304687503&page=1&pageSize=20 - 204 null null 2.1891ms
2025-01-11 15:20:25.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56074442619012&northEastLng=0&southWestLat=51.44919302755286&southWestLng=-0.17990112304687503&page=1&pageSize=20 - null null
2025-01-11 15:20:25.624 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:25.624 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:25.625 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 15:20:25.627 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 15:20:25.627 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:25.628 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:25.632 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
2025-01-11 15:20:25.634 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__filter_NorthEastLat_0='?' (DbType = Double), @__filter_SouthWestLat_1='?' (DbType = Double), @__filter_NorthEastLng_2='?' (DbType = Double), @__filter_SouthWestLng_3='?' (DbType = Double), @__p_5='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM "Destination" AS d
LEFT JOIN "GeoLocation" AS g ON d."GeoLocationId" = g."Id"
WHERE g."Id" IS NOT NULL AND g."Latitude" <= @__filter_NorthEastLat_0 AND g."Latitude" >= @__filter_SouthWestLat_1 AND g."Longitude" <= @__filter_NorthEastLng_2 AND g."Longitude" >= @__filter_SouthWestLng_3
ORDER BY d."Id"
LIMIT @__p_5 OFFSET @__p_4
2025-01-11 15:20:25.635 +01:00 [INF] Successfully fetched 3 destinations.
2025-01-11 15:20:25.636 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:25.637 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 10.5987ms
2025-01-11 15:20:25.638 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:25.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?northEastLat=51.56074442619012&northEastLng=0&southWestLat=51.44919302755286&southWestLng=-0.17990112304687503&page=1&pageSize=20 - 200 null application/json; charset=utf-8 16.8048ms
2025-01-11 15:20:31.747 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:31.747 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:31.749 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:31.751 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:31.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - 204 null null 4.4632ms
2025-01-11 15:20:31.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - 204 null null 4.9639ms
2025-01-11 15:20:31.754 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:31.754 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:31.757 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:31.759 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:31.760 +01:00 [INF] Executing endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:31.760 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:31.760 +01:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.CategoryDTO]]] GetCategories(Int32, Int32) on controller backend.Controllers.CategoryController (backend).
2025-01-11 15:20:31.761 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 15:20:31.763 +01:00 [INF] Fetching paginated categories for page 1 with page size 2
2025-01-11 15:20:31.763 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 15:20:31.764 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Category" AS c
2025-01-11 15:20:31.764 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:31.767 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:31.768 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."Icon", c."ModifiedAt", c."Name", c."PhotoUrl"
FROM "Category" AS c
ORDER BY c."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-01-11 15:20:31.768 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-11 15:20:31.769 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.CategoryDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:31.770 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-11 15:20:31.771 +01:00 [INF] Executed action backend.Controllers.CategoryController.GetCategories (backend) in 8.5251ms
2025-01-11 15:20:31.772 +01:00 [INF] Successfully fetched 6 destinations.
2025-01-11 15:20:31.772 +01:00 [INF] Executed endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:31.773 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:31.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - 200 null application/json; charset=utf-8 20.3537ms
2025-01-11 15:20:31.775 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 11.89ms
2025-01-11 15:20:31.778 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:31.779 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - 200 null application/json; charset=utf-8 24.9426ms
2025-01-11 15:20:38.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:38.312 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:38.314 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:38.316 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:38.317 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Destination?page=1&pageSize=20 - 204 null null 5.0287ms
2025-01-11 15:20:38.317 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7154/api/Category?page=1&pageSize=2 - 204 null null 5.6193ms
2025-01-11 15:20:38.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - null null
2025-01-11 15:20:38.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - null null
2025-01-11 15:20:38.325 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:38.327 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:20:38.328 +01:00 [INF] Executing endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:38.328 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:38.329 +01:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.CategoryDTO]]] GetCategories(Int32, Int32) on controller backend.Controllers.CategoryController (backend).
2025-01-11 15:20:38.330 +01:00 [INF] Route matched with {action = "GetDestinations", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.PagedResult`1[backend.Domain.DTOs.DestinationDTO]]] GetDestinations(backend.Domain.Filters.DestinationFilter, Int32, Int32) on controller backend.Controllers.DestinationController (backend).
2025-01-11 15:20:38.332 +01:00 [INF] Fetching paginated categories for page 1 with page size 2
2025-01-11 15:20:38.333 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 15:20:38.334 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:38.334 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Category" AS c
2025-01-11 15:20:38.335 +01:00 [INF] Fetching destinations with filter and pagination. Page: 1, PageSize: 20
2025-01-11 15:20:38.337 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."Description", c."Icon", c."ModifiedAt", c."Name", c."PhotoUrl"
FROM "Category" AS c
ORDER BY c."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-01-11 15:20:38.337 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Destination" AS d
2025-01-11 15:20:38.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.CategoryDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:38.340 +01:00 [INF] Executed action backend.Controllers.CategoryController.GetCategories (backend) in 8.622ms
2025-01-11 15:20:38.340 +01:00 [INF] Executed endpoint 'backend.Controllers.CategoryController.GetCategories (backend)'
2025-01-11 15:20:38.341 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Category?page=1&pageSize=2 - 200 null application/json; charset=utf-8 18.3451ms
2025-01-11 15:20:38.345 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price", g."Id", g."CreatedAt", g."Description", g."ItemId", g."Latitude", g."Longitude", g."ModifiedAt", g."Type"
FROM (
    SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
    FROM "Destination" AS d
    ORDER BY d."Id"
    LIMIT @__p_1 OFFSET @__p_0
) AS d0
LEFT JOIN "GeoLocation" AS g ON d0."GeoLocationId" = g."Id"
ORDER BY d0."Id"
2025-01-11 15:20:38.347 +01:00 [INF] Successfully fetched 6 destinations.
2025-01-11 15:20:38.347 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend.Domain.DTOs.PagedResult`1[[backend.Domain.DTOs.DestinationDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:20:38.348 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestinations (backend) in 15.7098ms
2025-01-11 15:20:38.349 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestinations (backend)'
2025-01-11 15:20:38.350 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination?page=1&pageSize=20 - 200 null application/json; charset=utf-8 27.1171ms
2025-01-11 15:24:52.181 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 15:24:52.318 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 15:24:52.319 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 15:24:52.359 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 15:24:52.359 +01:00 [INF] Hosting environment: Development
2025-01-11 15:24:52.360 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 15:24:52.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 15:24:52.875 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.4649ms
2025-01-11 15:24:52.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 15:24:52.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 15:24:52.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 15:24:52.920 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.0037ms
2025-01-11 15:24:52.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 14.0103ms
2025-01-11 15:24:52.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.7617ms
2025-01-11 15:24:53.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 15:24:53.132 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.5834ms
2025-01-11 15:25:27.003 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:25:27.008 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:25:27.077 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:25:27.086 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:25:28.003 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:25:28.110 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:25:28.118 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:25:28.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:25:28.128 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1037.7267ms
2025-01-11 15:25:28.129 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:25:28.130 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:25:28.131 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:25:28.132 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:25:28.135 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1163.0456ms
2025-01-11 15:25:28.205 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:25:28.208 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:25:28.210 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:25:28.211 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 77.6204ms
2025-01-11 15:25:28.211 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:25:28.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 85.8741ms
2025-01-11 15:30:39.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:30:39.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:30:39.674 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:30:39.675 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:30:39.677 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:30:39.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 71.5146ms
2025-01-11 15:30:39.681 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:30:39.684 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:30:39.729 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:30:39.734 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:30:39.735 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:30:39.736 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 52.3441ms
2025-01-11 15:30:39.737 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:30:39.738 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:30:39.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 65.9137ms
2025-01-11 15:30:39.740 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:30:39.743 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:30:39.744 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:30:39.747 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:30:39.749 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:30:39.751 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:30:39.752 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 6.5734ms
2025-01-11 15:30:39.753 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:30:39.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 15.8631ms
2025-01-11 15:31:34.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:31:34.726 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:34.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 6.8129ms
2025-01-11 15:31:34.729 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:31:36.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:31:36.663 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:31:36.664 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:36.666 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:36.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 4.0642ms
2025-01-11 15:31:36.669 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:31:36.672 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:31:36.673 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:31:36.678 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:31:36.681 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:31:36.682 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:31:36.683 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 8.1549ms
2025-01-11 15:31:36.684 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:31:36.684 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 15:31:36.685 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 21.8287ms
2025-01-11 15:31:36.686 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:36.689 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:31:36.689 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 15:31:36.691 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 15:31:36.693 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 15:31:36.695 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:31:36.696 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5.7898ms
2025-01-11 15:31:36.697 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 15:31:36.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 12.9903ms
2025-01-11 15:31:37.676 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:31:37.678 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:37.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 3.2771ms
2025-01-11 15:31:37.681 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:31:39.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:31:39.687 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:39.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 3.3776ms
2025-01-11 15:31:39.690 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:31:43.694 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:31:43.696 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:31:43.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 2.6373ms
2025-01-11 15:31:43.699 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:32:41.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:32:41.366 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:32:41.367 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 6.3072ms
2025-01-11 15:32:41.371 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:32:42.377 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:32:42.379 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:32:42.380 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 2.599ms
2025-01-11 15:32:42.382 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:32:44.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:32:44.394 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:32:44.394 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 2.4648ms
2025-01-11 15:32:44.397 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:32:48.404 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart - null null
2025-01-11 15:32:48.406 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:32:48.407 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart - 404 0 null 2.7682ms
2025-01-11 15:32:48.409 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7154/api/Cart, Response status code: 404
2025-01-11 15:34:48.654 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 15:34:48.803 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 15:34:48.804 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 15:34:48.842 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 15:34:48.843 +01:00 [INF] Hosting environment: Development
2025-01-11 15:34:48.844 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 15:34:49.385 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 15:34:49.495 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 113.3388ms
2025-01-11 15:34:49.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 15:34:49.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 15:34:49.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 15:34:49.549 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.62ms
2025-01-11 15:34:49.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.2558ms
2025-01-11 15:34:49.571 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1251ms
2025-01-11 15:34:49.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 15:34:49.692 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.3053ms
2025-01-11 15:34:52.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 15:34:52.137 +01:00 [INF] CORS policy execution successful.
2025-01-11 15:34:52.199 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 15:34:52.206 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 15:35:31.098 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 15:35:31.107 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 38896.5837ms
2025-01-11 15:35:31.108 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 15:35:31.113 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 38980.2187ms
2025-01-11 16:04:54.345 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:04:54.501 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:04:54.502 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:04:54.552 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:04:54.553 +01:00 [INF] Hosting environment: Development
2025-01-11 16:04:54.554 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:04:54.654 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:04:54.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 127.1029ms
2025-01-11 16:04:54.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:04:54.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:04:54.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:04:54.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.7753ms
2025-01-11 16:04:54.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.6628ms
2025-01-11 16:04:54.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.4926ms
2025-01-11 16:04:54.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:04:54.990 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.9249ms
2025-01-11 16:04:55.289 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:04:55.293 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:04:55.361 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:04:55.370 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:04:58.502 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:04:58.510 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3136.5311ms
2025-01-11 16:04:58.512 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:04:58.637 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3347.9492ms
2025-01-11 16:04:58.652 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:04:58.680 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:04:59.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:04:59.642 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:04:59.643 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:04:59.645 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:04:59.725 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:04:59.787 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:04:59.787 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:04:59.788 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 142.6791ms
2025-01-11 16:04:59.790 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:04:59.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 162.5685ms
2025-01-11 16:05:01.821 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:05:01.823 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:01.825 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:01.826 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:05:01.840 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:01.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:01.841 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 14.1585ms
2025-01-11 16:05:01.843 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:01.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:01.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 35.7822ms
2025-01-11 16:05:01.862 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:05:05.871 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:05:05.872 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:05.873 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:05.874 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:05:05.876 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:05.876 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:05.878 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.1267ms
2025-01-11 16:05:05.879 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:05.879 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:05.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 21.8963ms
2025-01-11 16:05:17.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:17.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:17.050 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:17.052 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:17.053 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:17.053 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:17.065 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:17.065 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:17.068 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 1.9451ms
2025-01-11 16:05:17.070 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:17.086 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 38.779ms
2025-01-11 16:05:17.087 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:17.099 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:17.104 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:17.117 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 49.6192ms
2025-01-11 16:05:17.119 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:17.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 72.7129ms
2025-01-11 16:05:18.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:18.098 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:18.099 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:18.100 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:18.102 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.6212ms
2025-01-11 16:05:18.103 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:18.115 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 19.5119ms
2025-01-11 16:05:18.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:18.129 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:18.130 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:18.131 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:18.132 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:18.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:18.136 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:18.137 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 5.7344ms
2025-01-11 16:05:18.138 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:18.139 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 11.8679ms
2025-01-11 16:05:18.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:18.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:18.919 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:18.921 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:18.921 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:18.922 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:18.922 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:18.925 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:18.927 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:18.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:18.931 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:18.931 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 7.5854ms
2025-01-11 16:05:18.932 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:18.933 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 16.6066ms
2025-01-11 16:05:18.971 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:19.045 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:19.051 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:19.056 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 128.763ms
2025-01-11 16:05:19.057 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:19.057 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:19.058 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 140.749ms
2025-01-11 16:05:19.060 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:19.062 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:19.063 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:19.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:19.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:19.072 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:19.073 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 9.2229ms
2025-01-11 16:05:19.074 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:19.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 17.6618ms
2025-01-11 16:05:19.085 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:19.087 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:19.088 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:19.089 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:19.091 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.7269ms
2025-01-11 16:05:19.092 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:19.104 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 19.5802ms
2025-01-11 16:05:19.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:19.943 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:19.944 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:19.945 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:19.946 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:19.948 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:19.949 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:19.950 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 4.2705ms
2025-01-11 16:05:19.950 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:19.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 9.7098ms
2025-01-11 16:05:20.116 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:20.117 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:20.118 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:20.118 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:20.120 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.6078ms
2025-01-11 16:05:20.121 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:20.132 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 16.2441ms
2025-01-11 16:05:21.959 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:21.961 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:21.962 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:21.962 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:21.964 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:21.966 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:21.967 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:21.968 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 4.6781ms
2025-01-11 16:05:21.969 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:21.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 10.8658ms
2025-01-11 16:05:22.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:22.141 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:22.142 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:22.143 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:22.145 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.6535ms
2025-01-11 16:05:22.146 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:22.156 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 16.0824ms
2025-01-11 16:05:24.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:24.934 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:24.937 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:24.938 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:24.939 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:24.939 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:24.940 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:24.940 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:24.943 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:24.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:24.948 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:24.949 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 6.9324ms
2025-01-11 16:05:24.950 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:24.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 15.9571ms
2025-01-11 16:05:24.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:24.958 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:24.959 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:24.960 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 17.3925ms
2025-01-11 16:05:24.962 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:24.962 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:24.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 28.7044ms
2025-01-11 16:05:24.964 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:24.966 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:24.967 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:24.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:24.972 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:24.973 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:24.974 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 6.5108ms
2025-01-11 16:05:24.975 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:24.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 14.1606ms
2025-01-11 16:05:25.047 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:25.049 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:25.050 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:25.051 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:25.053 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.7874ms
2025-01-11 16:05:25.054 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:25.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 21.5252ms
2025-01-11 16:05:26.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:26.048 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:26.049 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:26.050 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:26.051 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:26.053 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:26.055 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:26.055 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 4.6565ms
2025-01-11 16:05:26.056 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:26.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 11.2035ms
2025-01-11 16:05:26.077 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:26.078 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:26.079 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:26.080 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:26.081 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.5651ms
2025-01-11 16:05:26.082 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:26.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 20.4235ms
2025-01-11 16:05:28.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:28.070 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:28.070 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:28.071 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:28.073 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:28.074 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:28.076 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:28.077 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 4.8256ms
2025-01-11 16:05:28.078 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:28.079 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 11.1341ms
2025-01-11 16:05:28.114 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:28.115 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:28.116 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:28.117 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:28.118 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.5542ms
2025-01-11 16:05:28.119 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:28.130 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 15.7702ms
2025-01-11 16:05:32.086 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:32.088 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:32.088 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:32.089 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:32.091 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:32.092 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:32.094 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:32.095 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 4.5431ms
2025-01-11 16:05:32.096 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:32.096 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 10.3342ms
2025-01-11 16:05:32.149 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:32.151 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:32.151 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:32.152 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:32.154 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.5456ms
2025-01-11 16:05:32.155 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:32.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 15.8743ms
2025-01-11 16:05:37.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:37.098 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:37.099 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:37.099 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:37.100 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:37.102 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:37.104 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:37.104 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:37.104 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:37.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:37.108 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:37.109 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 6.5357ms
2025-01-11 16:05:37.110 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:37.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 14.6598ms
2025-01-11 16:05:37.137 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:37.139 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:37.140 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:37.141 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 34.6894ms
2025-01-11 16:05:37.142 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:37.142 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:37.143 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 43.8254ms
2025-01-11 16:05:37.144 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:37.147 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:37.147 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:05:37.150 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:37.152 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:05:37.153 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:37.154 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5.7016ms
2025-01-11 16:05:37.155 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:37.155 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 13.3288ms
2025-01-11 16:05:37.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:37.202 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:37.203 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:37.204 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:37.206 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.6133ms
2025-01-11 16:05:37.207 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:37.219 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 17.8866ms
2025-01-11 16:05:38.195 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - null null
2025-01-11 16:05:38.197 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:38.198 +01:00 [INF] Executing endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:38.199 +01:00 [INF] Route matched with {action = "GetDestination", controller = "Destination"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.Domain.DTOs.DestinationDTO]] GetDestination(System.Guid) on controller backend.Controllers.DestinationController (backend).
2025-01-11 16:05:38.201 +01:00 [INF] Base URL generated: https://localhost:7154
2025-01-11 16:05:38.204 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:38.205 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-01-11 16:05:38.206 +01:00 [INF] Executed action backend.Controllers.DestinationController.GetDestination (backend) in 6.0933ms
2025-01-11 16:05:38.207 +01:00 [INF] Executed endpoint 'backend.Controllers.DestinationController.GetDestination (backend)'
2025-01-11 16:05:38.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Destination/e831cc55-c917-4edb-ad74-b5d5936f6742 - 404 null application/problem+json; charset=utf-8 12.8254ms
2025-01-11 16:05:38.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - null null
2025-01-11 16:05:38.228 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:38.229 +01:00 [INF] Executing endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:38.229 +01:00 [INF] Route matched with {action = "GetUserTripsList", controller = "Trip"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.Domain.DTOs.TripDTO]]] GetUserTripsList(System.String) on controller backend.Controllers.TripController (backend).
2025-01-11 16:05:38.231 +01:00 [INF] Executed action backend.Controllers.TripController.GetUserTripsList (backend) in 0.5262ms
2025-01-11 16:05:38.232 +01:00 [INF] Executed endpoint 'backend.Controllers.TripController.GetUserTripsList (backend)'
2025-01-11 16:05:38.245 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Trip/UserId/74b9f27c-c745-4e27-9877-3848fd18bd82 - 500 null application/json 18.5125ms
2025-01-11 16:05:38.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:05:38.292 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:38.293 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:38.293 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:05:43.927 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:55.562 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:05:55.564 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:05:55.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:05:55.622 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 17327.4088ms
2025-01-11 16:05:55.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:05:55.623 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:55.624 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:55.626 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:05:55.626 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:05:55.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 17344.4436ms
2025-01-11 16:05:55.635 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:05:55.635 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:05:55.637 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:06:10.152 +01:00 [INF] Executed DbCommand (5,099ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:14.282 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:06:14.283 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:06:16.427 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:06:18.849 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:06:18.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:18.850 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:06:18.860 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:06:18.893 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:06:18.860 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 18295.637ms
2025-01-11 16:06:30.946 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 35307.3249ms
2025-01-11 16:06:30.946 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:06:30.946 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:30.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:30.947 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:06:30.948 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 35383.0871ms
2025-01-11 16:06:30.961 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:06:30.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 35402.9767ms
2025-01-11 16:06:30.968 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:06:30.971 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 31.4234ms
2025-01-11 16:06:30.972 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:06:30.973 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 16715.845ms
2025-01-11 16:06:31.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:06:31.973 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:06:31.973 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:06:31.974 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:06:52.800 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:06:52.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:52.811 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 20835.9513ms
2025-01-11 16:06:52.812 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:06:52.817 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:06.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 34480.8928ms
2025-01-11 16:07:51.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:07:51.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 5.0871ms
2025-01-11 16:07:51.330 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:07:51.331 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:07:51.336 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 5.6941ms
2025-01-11 16:07:51.331 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:07:51.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.4272ms
2025-01-11 16:07:51.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.5998ms
2025-01-11 16:07:51.397 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:07:51.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/favicon-32x32.png - null null
2025-01-11 16:07:51.407 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-11 16:07:51.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/favicon-32x32.png - 200 628 image/png 7.3455ms
2025-01-11 16:07:51.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.4772ms
2025-01-11 16:07:51.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:07:51.869 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:51.870 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:51.873 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:07:51.958 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:07:51.974 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 100.4487ms
2025-01-11 16:07:51.975 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:51.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 119.0991ms
2025-01-11 16:07:53.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:07:53.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:07:53.308 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:53.308 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:53.309 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:53.309 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:07:53.310 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:07:53.342 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:07:53.342 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:07:53.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:07:53.346 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 34.339ms
2025-01-11 16:07:53.348 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:53.348 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:07:53.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 53.5828ms
2025-01-11 16:07:53.359 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:07:53.363 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 19.362ms
2025-01-11 16:07:53.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:07:53.364 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:07:53.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 61.1227ms
2025-01-11 16:07:53.366 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:53.368 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:07:53.369 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:07:53.371 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:07:53.374 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:07:53.375 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:07:53.376 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 6.017ms
2025-01-11 16:07:53.377 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:07:53.377 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 13.3482ms
2025-01-11 16:07:54.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:07:54.409 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:54.409 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:54.410 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:07:54.439 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:07:54.442 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 30.153ms
2025-01-11 16:07:54.443 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:54.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 45.0113ms
2025-01-11 16:07:56.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:07:56.466 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:07:56.467 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:56.467 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:07:56.494 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:07:56.496 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 27.9397ms
2025-01-11 16:07:56.497 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:07:56.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 42.2341ms
2025-01-11 16:08:00.515 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:08:00.517 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:08:00.518 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:08:00.519 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:08:00.546 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:08:00.549 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 28.7938ms
2025-01-11 16:08:00.550 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:08:00.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 43.3039ms
2025-01-11 16:08:03.990 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:08:03.992 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:08:03.993 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:08:03.993 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:08:03.993 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:08:03.995 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:08:03.997 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:08:05.190 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:08:05.244 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:08:20.813 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:08:20.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:08:20.816 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 16819.3817ms
2025-01-11 16:08:20.816 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:08:20.817 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:08:20.818 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 15595.7783ms
2025-01-11 16:08:20.828 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:08:20.828 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 16838.0346ms
2025-01-11 16:08:20.828 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:08:20.830 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:08:20.833 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 16839.4773ms
2025-01-11 16:08:20.833 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:08:20.836 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:08:20.852 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:08:20.854 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:08:20.856 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:08:20.857 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 19.5532ms
2025-01-11 16:08:20.858 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:08:20.859 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 31.1415ms
2025-01-11 16:08:21.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:08:21.837 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:08:21.837 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:08:21.838 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:27.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:10:27.385 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 125545.4601ms
2025-01-11 16:10:27.386 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:27.397 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 125562.7567ms
2025-01-11 16:10:31.784 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:10:31.933 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:10:31.934 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:10:31.973 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:10:31.973 +01:00 [INF] Hosting environment: Development
2025-01-11 16:10:31.974 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:10:32.322 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:10:32.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 123.0748ms
2025-01-11 16:10:32.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:10:32.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:10:32.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:10:32.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.9518ms
2025-01-11 16:10:32.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 19.5752ms
2025-01-11 16:10:32.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.0097ms
2025-01-11 16:10:32.653 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:10:32.689 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.1326ms
2025-01-11 16:10:34.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:10:34.901 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:34.962 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:34.970 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:35.682 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:10:35.701 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 727.9669ms
2025-01-11 16:10:35.702 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:35.759 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 862.4005ms
2025-01-11 16:10:36.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:10:36.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:10:36.279 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:36.279 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:36.280 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:10:36.282 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:36.283 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:36.285 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:10:36.388 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:10:36.391 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 106.3718ms
2025-01-11 16:10:36.395 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:36.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 133.1363ms
2025-01-11 16:10:36.823 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:10:36.932 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:10:36.936 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:10:36.940 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 654.1478ms
2025-01-11 16:10:36.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:10:36.942 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:10:36.943 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:36.944 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:10:36.945 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:10:36.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 670.3864ms
2025-01-11 16:10:36.957 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:10:36.960 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:10:36.961 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:10:36.962 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 16.2329ms
2025-01-11 16:10:36.963 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:10:36.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 22.6682ms
2025-01-11 16:10:37.420 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:10:37.422 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:37.423 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:37.423 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:37.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:10:37.454 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 29.2107ms
2025-01-11 16:10:37.454 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:37.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 42.9138ms
2025-01-11 16:10:39.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:10:39.477 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:39.477 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:39.478 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:39.529 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:10:39.532 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 52.4149ms
2025-01-11 16:10:39.533 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:39.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 67.0364ms
2025-01-11 16:10:43.628 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:10:43.630 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:43.631 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:10:43.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:10:43.632 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:10:43.634 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:10:45.551 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:10:50.099 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:12:22.784 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:12:22.926 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:12:22.926 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:12:22.965 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:12:22.966 +01:00 [INF] Hosting environment: Development
2025-01-11 16:12:22.967 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:12:23.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:12:23.476 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.8104ms
2025-01-11 16:12:23.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:12:23.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:12:23.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:12:23.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 40.836ms
2025-01-11 16:12:23.577 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 43.9238ms
2025-01-11 16:12:23.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1983ms
2025-01-11 16:12:23.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:12:23.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.1242ms
2025-01-11 16:13:00.612 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:13:00.781 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:13:00.783 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:13:00.819 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:13:00.820 +01:00 [INF] Hosting environment: Development
2025-01-11 16:13:00.820 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:13:00.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:00.953 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:01.015 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:01.024 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:01.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:13:01.415 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 93.7304ms
2025-01-11 16:13:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:13:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:13:01.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:13:01.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 9.799ms
2025-01-11 16:13:01.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.7913ms
2025-01-11 16:13:01.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1779ms
2025-01-11 16:13:01.597 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:13:01.624 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.8985ms
2025-01-11 16:13:02.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:02.020 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 993.1492ms
2025-01-11 16:13:02.021 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:04.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:04.582 +01:00 [ERR] Connection id "0HN9IA9O3U7D6", Request id "0HN9IA9O3U7D6:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:13:04.584 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:04.611 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3725.4247ms
2025-01-11 16:13:04.612 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:04.613 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:04.652 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:04.654 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 39.8437ms
2025-01-11 16:13:04.655 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:06.507 +01:00 [ERR] Connection id "0HN9IA9O3U7D6", Request id "0HN9IA9O3U7D6:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:13:06.510 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1930.0579ms
2025-01-11 16:13:06.555 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:06.555 +01:00 [INF] Executed DbCommand (1,896ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:06.562 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:06.562 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:08.681 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:08.683 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:08.685 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:08.686 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:08.704 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:08.704 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:08.706 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 18.4594ms
2025-01-11 16:13:08.708 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:08.722 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 41.6792ms
2025-01-11 16:13:12.880 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:13:13.039 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:13:13.040 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:13:13.080 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:13:13.081 +01:00 [INF] Hosting environment: Development
2025-01-11 16:13:13.081 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:13:13.411 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:13:13.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 107.8727ms
2025-01-11 16:13:13.563 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:13:13.563 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:13:13.563 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:13:13.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.2948ms
2025-01-11 16:13:13.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.0242ms
2025-01-11 16:13:13.586 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.9101ms
2025-01-11 16:13:13.688 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:13:13.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.6277ms
2025-01-11 16:13:15.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:15.810 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:15.873 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:15.882 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:16.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:16.815 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 929.9158ms
2025-01-11 16:13:16.817 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:21.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:13:21.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:21.147 +01:00 [ERR] Connection id "0HN9IA9RQFAF2", Request id "0HN9IA9RQFAF2:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:13:21.151 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:21.151 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:21.177 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 5377.7053ms
2025-01-11 16:13:21.178 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:21.179 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:13:21.180 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:21.183 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:13:21.222 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:21.227 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:21.231 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 49.1504ms
2025-01-11 16:13:21.232 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:22.083 +01:00 [ERR] Connection id "0HN9IA9RQFAF2", Request id "0HN9IA9RQFAF2:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:13:22.084 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:22.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 943.7174ms
2025-01-11 16:13:22.094 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:22.096 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:22.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:22.300 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:22.301 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:22.302 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:22.305 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:22.315 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:22.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:22.317 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 13.7471ms
2025-01-11 16:13:22.319 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:22.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 33.1548ms
2025-01-11 16:13:22.338 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method35(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method35(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:22.438 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:13:22.442 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:22.448 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1260.5148ms
2025-01-11 16:13:22.449 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:13:22.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:13:22.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1305.7562ms
2025-01-11 16:13:22.453 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:22.460 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:13:22.461 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:13:22.469 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:22.475 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:13:22.477 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:22.479 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 15.0274ms
2025-01-11 16:13:22.480 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:13:22.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 32.8812ms
2025-01-11 16:13:24.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:24.336 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:24.337 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:24.338 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:24.343 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:24.343 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:24.344 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.9282ms
2025-01-11 16:13:24.346 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:24.357 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.6851ms
2025-01-11 16:13:24.375 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:13:28.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:28.366 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:28.367 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:28.368 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:28.371 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:13:28.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:13:28.373 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.5533ms
2025-01-11 16:13:28.375 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:28.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.1239ms
2025-01-11 16:13:36.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:13:36.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:13:36.192 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:36.194 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:13:36.195 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:13:36.195 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:13:36.195 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:13:36.196 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:14:25.668 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:14:25.700 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:14:25.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:14:25.918 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:14:25.920 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 49723.1787ms
2025-01-11 16:14:25.921 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:14:25.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:14:25.924 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:14:25.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:14:25.928 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:05.500 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:17:05.651 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:17:05.652 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:17:05.696 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:17:05.697 +01:00 [INF] Hosting environment: Development
2025-01-11 16:17:05.697 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:17:05.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:17:05.825 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:17:05.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:17:05.905 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:05.922 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:17:05.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 105.644ms
2025-01-11 16:17:06.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:17:06.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:17:06.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:17:06.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2031ms
2025-01-11 16:17:06.048 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.8396ms
2025-01-11 16:17:06.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.746ms
2025-01-11 16:17:06.160 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:17:06.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.9593ms
2025-01-11 16:17:08.976 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3049.2786ms
2025-01-11 16:17:08.977 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:09.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3262.4986ms
2025-01-11 16:17:11.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:17:11.053 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:17:11.058 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:11.059 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:17:19.240 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 8179.9233ms
2025-01-11 16:17:19.242 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:19.251 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 8201.826ms
2025-01-11 16:17:23.257 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:17:23.259 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:17:23.261 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:17:23.262 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:18:57.718 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:18:57.855 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:18:57.857 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:18:57.895 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:18:57.895 +01:00 [INF] Hosting environment: Development
2025-01-11 16:18:57.896 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:18:58.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:18:58.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.5747ms
2025-01-11 16:18:58.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:18:58.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:18:58.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:18:58.263 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.6426ms
2025-01-11 16:18:58.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.2812ms
2025-01-11 16:18:58.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.5311ms
2025-01-11 16:18:58.380 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:18:58.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.8469ms
2025-01-11 16:19:08.887 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:19:08.898 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:08.974 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:08.983 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:19:12.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:19:12.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:19:12.072 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:12.072 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:12.073 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:19:12.074 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:12.075 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:19:12.077 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:19:14.570 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:14.570 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:14.577 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 5590.137ms
2025-01-11 16:19:14.577 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2498.5171ms
2025-01-11 16:19:14.578 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:14.579 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:14.668 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 5780.8305ms
2025-01-11 16:19:14.668 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2599.6566ms
2025-01-11 16:19:14.685 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:14.685 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:14.712 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:19:14.712 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:19:14.833 +01:00 [INF] Executed DbCommand (160ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:14.918 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:19:14.922 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:14.926 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2848.0979ms
2025-01-11 16:19:14.927 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:19:14.927 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:19:14.929 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:14.930 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:19:14.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 2862.9826ms
2025-01-11 16:19:14.931 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:19:14.947 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:14.950 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:19:14.952 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:14.953 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 17.921ms
2025-01-11 16:19:14.954 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:19:14.954 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 27.3993ms
2025-01-11 16:19:15.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:19:15.670 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:15.671 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:15.672 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:19:15.679 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:15.680 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 7.3662ms
2025-01-11 16:19:15.680 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:15.681 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:15.694 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 26.1785ms
2025-01-11 16:19:15.701 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method46(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method46(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:19:17.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:19:17.710 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:17.711 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:17.711 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:19:17.715 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:19:17.716 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.467ms
2025-01-11 16:19:17.716 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:19:17.717 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:17.731 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.8562ms
2025-01-11 16:19:21.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:19:21.741 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:19:21.742 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:19:21.742 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:20:05.072 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:20:05.072 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:20:05.074 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 43330.752ms
2025-01-11 16:20:05.076 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:20:05.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 43381.4954ms
2025-01-11 16:20:05.121 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count)
   at Npgsql.Internal.PgReader.Buffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.Buffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.<StartRead>g__BufferNoInlined|93_0(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDouble(Int32 ordinal)
   at lambda_method46(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.TimeoutException: Timeout during reading attempt
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.Ensure(Int32 count)
   at Npgsql.Internal.PgReader.Buffer(Int32 byteCount)
   at Npgsql.Internal.PgReader.Buffer(Size bufferRequirement)
   at Npgsql.Internal.PgReader.<StartRead>g__BufferNoInlined|93_0(Size bufferRequirement)
   at Npgsql.Internal.PgReader.StartRead(Size bufferRequirement)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetDouble(Int32 ordinal)
   at lambda_method46(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:20:05.185 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:20:36.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:20:36.688 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:20:36.688 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:20:36.690 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:20:39.256 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:20:39.256 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:20:39.257 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:20:39.257 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:20:43.524 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:20:43.526 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4266.3938ms
2025-01-11 16:20:43.527 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:20:56.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:20:56.318 +01:00 [ERR] Connection id "0HN9IAD2HRC8Q", Request id "0HN9IAD2HRC8Q:0000000F": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:20:56.319 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:20:56.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-01-11 16:20:56.333 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 19647.2013ms
2025-01-11 16:20:56.333 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:20:56.335 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:20:56.337 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:27:04.187 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:27:04.322 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:27:04.323 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:27:04.365 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:27:04.366 +01:00 [INF] Hosting environment: Development
2025-01-11 16:27:04.367 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:27:04.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:27:04.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 122.6916ms
2025-01-11 16:27:04.822 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:27:04.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:27:04.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:27:04.826 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.5683ms
2025-01-11 16:27:04.833 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.0192ms
2025-01-11 16:27:04.849 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.3971ms
2025-01-11 16:27:04.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:27:04.985 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.4767ms
2025-01-11 16:27:06.500 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:27:06.504 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:06.570 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:06.578 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:27:07.256 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:27:07.275 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 694.2923ms
2025-01-11 16:27:07.276 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:07.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 779.7361ms
2025-01-11 16:27:08.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:27:08.260 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:27:08.264 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:08.264 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:08.265 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:08.266 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:27:08.266 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:08.271 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:27:08.305 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:27:08.306 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 38.8941ms
2025-01-11 16:27:08.307 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:08.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 47.8884ms
2025-01-11 16:27:08.755 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:27:08.867 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:27:08.872 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:27:08.877 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 604.5815ms
2025-01-11 16:27:08.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:27:08.878 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:08.880 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:08.881 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:08.882 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:27:08.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 622.7731ms
2025-01-11 16:27:08.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:27:08.899 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:27:08.901 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:27:08.902 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 17.8619ms
2025-01-11 16:27:08.903 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:08.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 26.0863ms
2025-01-11 16:27:16.249 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:27:16.388 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:27:16.389 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:27:16.429 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:27:16.429 +01:00 [INF] Hosting environment: Development
2025-01-11 16:27:16.430 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:27:16.853 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:27:16.962 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 112.7097ms
2025-01-11 16:27:17.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:27:17.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:27:17.015 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:27:17.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 7.3331ms
2025-01-11 16:27:17.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 46.4792ms
2025-01-11 16:27:17.072 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1847ms
2025-01-11 16:27:17.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:27:17.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.4564ms
2025-01-11 16:27:19.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:27:19.639 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:27:19.646 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:19.646 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:19.737 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:19.737 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:19.749 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:27:19.749 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:27:20.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:27:20.552 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 797.8205ms
2025-01-11 16:27:20.553 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:27:20.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 918.1943ms
2025-01-11 16:27:20.908 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:27:21.013 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:27:21.018 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:27:21.022 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 1271.3295ms
2025-01-11 16:27:21.023 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:27:21.024 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:21.026 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:27:21.028 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1388.762ms
2025-01-11 16:27:21.028 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:21.030 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:27:21.074 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:27:21.077 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:27:21.078 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:27:21.079 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 47.3406ms
2025-01-11 16:27:21.080 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:27:21.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 57.4339ms
2025-01-11 16:28:27.609 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:28:27.614 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:28:27.615 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:27.616 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:27.617 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:27.617 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:27.618 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:28:27.618 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:28:27.675 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:28:27.676 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 56.1267ms
2025-01-11 16:28:27.676 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:27.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 68.4991ms
2025-01-11 16:28:27.687 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:28:27.690 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:28:27.692 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:28:27.693 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 72.483ms
2025-01-11 16:28:27.694 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:27.694 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:28:27.695 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 80.6113ms
2025-01-11 16:28:27.696 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:27.699 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:27.700 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:28:27.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:28:27.705 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:28:27.708 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:28:27.709 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 7.756ms
2025-01-11 16:28:27.710 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:27.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 16.2663ms
2025-01-11 16:28:27.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:28:27.735 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:27.737 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:27.738 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:28:27.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:28:27.750 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6182ms
2025-01-11 16:28:27.751 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:27.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 21.8528ms
2025-01-11 16:28:30.905 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:28:30.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:28:30.907 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:30.909 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:30.909 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:30.910 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:30.910 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:28:30.911 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:28:30.913 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:28:30.914 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2.7159ms
2025-01-11 16:28:30.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:28:30.915 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:30.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 12.5663ms
2025-01-11 16:28:30.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:28:30.921 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:28:30.922 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 9.0499ms
2025-01-11 16:28:30.923 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:30.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:28:30.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 17.8705ms
2025-01-11 16:28:30.925 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:30.927 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:30.927 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:28:30.930 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:28:30.932 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:28:30.933 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:28:30.934 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5.5204ms
2025-01-11 16:28:30.935 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:30.935 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 12.1652ms
2025-01-11 16:28:58.690 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:28:58.748 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:28:58.749 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:58.751 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:28:58.751 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:28:58.752 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:28:58.752 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:28:58.753 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:29:06.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:29:06.970 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:29:06.972 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:29:06.973 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 8219.7779ms
2025-01-11 16:29:06.974 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:29:06.975 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:06.975 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5519.2945ms
2025-01-11 16:29:06.986 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:07.047 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:29:07.048 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 8300.4835ms
2025-01-11 16:29:07.055 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:07.058 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:07.059 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:29:07.062 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:29:07.067 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:29:07.068 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:29:07.069 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 9.1224ms
2025-01-11 16:29:07.070 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:07.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 84.9869ms
2025-01-11 16:29:07.105 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 8415.4917ms
2025-01-11 16:29:08.124 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:29:08.126 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:08.127 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:08.128 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:29:13.095 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:29:13.096 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4967.0238ms
2025-01-11 16:29:13.096 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:13.097 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 4973.4697ms
2025-01-11 16:29:14.745 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:29:14.745 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:29:14.748 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:14.750 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:14.751 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:14.752 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:14.752 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:29:14.754 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:29:14.756 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-11 16:29:14.758 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2.6477ms
2025-01-11 16:29:14.758 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:14.760 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 200 null application/json; charset=utf-8 14.9882ms
2025-01-11 16:29:14.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:29:14.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:29:14.771 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:29:14.772 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 15.7874ms
2025-01-11 16:29:14.773 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:14.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:29:14.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 29.0414ms
2025-01-11 16:29:14.776 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:14.780 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:14.781 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:29:14.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:29:14.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:29:14.822 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:29:14.823 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 40.3917ms
2025-01-11 16:29:14.823 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:14.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 50.486ms
2025-01-11 16:29:19.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:29:19.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:29:19.659 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:19.662 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:29:19.663 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:29:19.663 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:29:19.664 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:29:19.664 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:29:32.500 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:29:37.393 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:34:27.385 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:34:27.525 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:34:27.526 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:34:27.564 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:34:27.565 +01:00 [INF] Hosting environment: Development
2025-01-11 16:34:27.566 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:34:27.973 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:34:28.088 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 118.0456ms
2025-01-11 16:34:28.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:34:28.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:34:28.138 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:34:28.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 8.9528ms
2025-01-11 16:34:28.152 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.2742ms
2025-01-11 16:34:28.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.8643ms
2025-01-11 16:34:28.262 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:34:28.292 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.2083ms
2025-01-11 16:34:39.383 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:34:39.556 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:34:39.557 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:34:39.601 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:34:39.602 +01:00 [INF] Hosting environment: Development
2025-01-11 16:34:39.603 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:34:39.933 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:34:40.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 114.9454ms
2025-01-11 16:34:40.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:34:40.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:34:40.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:34:40.099 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 2.996ms
2025-01-11 16:34:40.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.5637ms
2025-01-11 16:34:40.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.409ms
2025-01-11 16:34:40.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:34:40.255 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.4959ms
2025-01-11 16:34:42.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:34:42.906 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:34:42.969 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:34:42.978 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:34:43.657 +01:00 [INF] Fetching details for cart items
2025-01-11 16:34:43.667 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:34:43.674 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 692.361ms
2025-01-11 16:34:43.675 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:34:43.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 844.3314ms
2025-01-11 16:34:44.104 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:34:44.123 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:34:44.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:34:44.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:34:44.620 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:34:44.620 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:34:44.622 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:34:44.623 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:34:44.624 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:34:44.627 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:34:44.665 +01:00 [INF] Fetching details for cart items
2025-01-11 16:34:44.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:34:44.668 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 42.9131ms
2025-01-11 16:34:44.669 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:38.159 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 16:35:38.310 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 16:35:38.311 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 16:35:38.355 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 16:35:38.356 +01:00 [INF] Hosting environment: Development
2025-01-11 16:35:38.356 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 16:35:38.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:35:38.725 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 116.4034ms
2025-01-11 16:35:38.778 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:35:38.778 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:35:38.778 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:35:38.783 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 5.5371ms
2025-01-11 16:35:38.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.5928ms
2025-01-11 16:35:38.806 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.9842ms
2025-01-11 16:35:38.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:35:38.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.855ms
2025-01-11 16:35:39.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 16:35:39.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 5.4111ms
2025-01-11 16:35:39.414 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 16:35:39.414 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 16:35:39.414 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 16:35:39.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.1583ms
2025-01-11 16:35:39.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.041ms
2025-01-11 16:35:39.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.5337ms
2025-01-11 16:35:39.462 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 16:35:39.496 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.0908ms
2025-01-11 16:35:41.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:35:41.156 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:41.223 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:41.231 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:35:41.915 +01:00 [INF] Fetching details for cart items
2025-01-11 16:35:42.181 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:42.188 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 953.2931ms
2025-01-11 16:35:42.189 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:44.328 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:35:44.328 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:35:44.330 +01:00 [ERR] Connection id "0HN9IAMCNGJ22", Request id "0HN9IAMCNGJ22:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:35:44.331 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:44.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3212.459ms
2025-01-11 16:35:44.331 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:44.357 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:35:44.360 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:44.361 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:35:44.362 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:35:44.401 +01:00 [INF] Fetching details for cart items
2025-01-11 16:35:44.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:44.406 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 44.6161ms
2025-01-11 16:35:44.407 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:45.521 +01:00 [ERR] Connection id "0HN9IAMCNGJ22", Request id "0HN9IAMCNGJ22:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:35:45.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:35:45.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 1224.8037ms
2025-01-11 16:35:45.554 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:45.556 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:45.556 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:35:45.571 +01:00 [INF] Fetching details for cart items
2025-01-11 16:35:45.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:45.574 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 16.1504ms
2025-01-11 16:35:45.575 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:46.143 +01:00 [ERR] Connection id "0HN9IAMCNGJ22", Request id "0HN9IAMCNGJ22:00000007": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 16:35:46.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 627.0268ms
2025-01-11 16:35:46.163 +01:00 [INF] Executed DbCommand (1,805ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:35:46.163 +01:00 [INF] Executed DbCommand (603ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:35:46.163 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:35:46.171 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:35:46.171 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:35:46.171 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:35:46.176 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:35:46.418 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:35:46.423 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:46.428 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 2062.5261ms
2025-01-11 16:35:46.429 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 16:35:46.429 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:35:46.431 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:46.432 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:35:46.433 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 16:35:46.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 2106.7698ms
2025-01-11 16:35:46.438 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 16:35:46.442 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 16:35:46.444 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:46.445 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 10.8385ms
2025-01-11 16:35:46.446 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 16:35:46.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 17.9021ms
2025-01-11 16:35:47.599 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:35:47.601 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:47.601 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:47.602 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:35:47.604 +01:00 [INF] Fetching details for cart items
2025-01-11 16:35:47.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:47.607 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6701ms
2025-01-11 16:35:47.607 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:35:47.608 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:47.620 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 21.5347ms
2025-01-11 16:35:47.628 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfNotInResult()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetGuid(Int32 ordinal)
   at lambda_method34(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 16:35:51.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 16:35:51.626 +01:00 [INF] CORS policy execution successful.
2025-01-11 16:35:51.627 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:51.628 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 16:35:51.630 +01:00 [INF] Fetching details for cart items
2025-01-11 16:35:51.631 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 16:35:51.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 16:35:51.633 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.8917ms
2025-01-11 16:35:51.635 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 16:35:51.646 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22.0005ms
2025-01-11 16:35:51.664 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.ThrowInvalidState(ReaderState state)
   at Npgsql.NpgsqlDataReader.ThrowIfClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:30:49.136 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:30:49.138 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:30:49.139 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:49.139 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:30:49.142 +01:00 [INF] Fetching details for cart items
2025-01-11 17:30:49.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:30:49.145 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.0369ms
2025-01-11 17:30:49.146 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:51.677 +01:00 [ERR] Connection id "0HN9IAMCNGJ23", Request id "0HN9IAMCNGJ23:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:30:51.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:30:51.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 2544.5813ms
2025-01-11 17:30:51.682 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:30:51.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:30:51.684 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:51.685 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:30:51.686 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:30:51.729 +01:00 [INF] Fetching details for cart items
2025-01-11 17:30:51.730 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:30:51.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:30:51.732 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2.9536ms
2025-01-11 17:30:51.734 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:51.743 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 66.3713ms
2025-01-11 17:30:53.753 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:30:53.756 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:30:53.756 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:53.757 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:30:53.760 +01:00 [INF] Fetching details for cart items
2025-01-11 17:30:53.761 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:30:53.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:30:53.762 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.7696ms
2025-01-11 17:30:53.764 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:53.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 82.6989ms
2025-01-11 17:30:57.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:30:57.843 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:30:57.843 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:57.844 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:30:57.845 +01:00 [INF] Fetching details for cart items
2025-01-11 17:30:57.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:30:57.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:30:57.848 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.2028ms
2025-01-11 17:30:57.876 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:30:57.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 44.4193ms
2025-01-11 17:33:03.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:03.437 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:03.438 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:03.439 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:03.440 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:03.442 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:03.442 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:03.444 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6821ms
2025-01-11 17:33:03.472 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:03.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 49.313ms
2025-01-11 17:33:04.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:04.489 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:04.490 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:04.491 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:04.492 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:04.493 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:04.493 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:04.495 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.2167ms
2025-01-11 17:33:04.532 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:04.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 53.5968ms
2025-01-11 17:33:06.018 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:06.020 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:06.021 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:06.022 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:33:06.022 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:06.023 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:06.025 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:06.025 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:33:06.026 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:33:06.026 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:06.027 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:06.029 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 4.7925ms
2025-01-11 17:33:06.064 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:06.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 57.6892ms
2025-01-11 17:33:06.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:33:06.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:33:06.096 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:06.097 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 69.5437ms
2025-01-11 17:33:06.097 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:33:06.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:33:06.099 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:06.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 76.7177ms
2025-01-11 17:33:06.108 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:33:06.110 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:33:06.113 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:33:06.115 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:33:06.117 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:06.118 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 5.6652ms
2025-01-11 17:33:06.118 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:33:06.119 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 21.6193ms
2025-01-11 17:33:07.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:07.135 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:07.136 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:07.136 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:07.138 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:07.139 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:07.139 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:07.140 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.0486ms
2025-01-11 17:33:07.169 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:07.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 44.5477ms
2025-01-11 17:33:09.181 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:09.183 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:09.184 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:09.184 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:09.186 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:09.188 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:09.188 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:09.189 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.1747ms
2025-01-11 17:33:09.217 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:09.229 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 47.557ms
2025-01-11 17:33:13.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:33:13.250 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:33:13.251 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:13.252 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:33:13.253 +01:00 [INF] Fetching details for cart items
2025-01-11 17:33:13.254 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:33:13.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:33:13.256 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 2.9093ms
2025-01-11 17:33:13.282 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:33:13.291 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 42.9348ms
2025-01-11 17:35:07.099 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:35:07.265 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:35:07.266 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:35:07.308 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:35:07.309 +01:00 [INF] Hosting environment: Development
2025-01-11 17:35:07.310 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:35:07.727 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:35:07.837 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 113.1631ms
2025-01-11 17:35:07.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:35:07.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:35:07.889 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:35:07.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4253ms
2025-01-11 17:35:07.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.9703ms
2025-01-11 17:35:07.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.0334ms
2025-01-11 17:35:08.023 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:35:08.053 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.3387ms
2025-01-11 17:35:11.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:35:11.479 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:35:11.545 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:35:11.554 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:35:12.236 +01:00 [INF] Fetching details for cart items
2025-01-11 17:35:12.486 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:35:12.493 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 936.202ms
2025-01-11 17:35:12.494 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:35:33.963 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:35:33.965 +01:00 [ERR] Connection id "0HN9IBNKD880I", Request id "0HN9IBNKD880I:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:35:33.967 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:35:33.986 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 22511.1997ms
2025-01-11 17:35:33.987 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:35:33.988 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:35:34.041 +01:00 [INF] Fetching details for cart items
2025-01-11 17:35:34.045 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:35:34.048 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 58.8917ms
2025-01-11 17:35:34.050 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:42:13.193 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:42:13.343 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:42:13.344 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:42:13.387 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:42:13.388 +01:00 [INF] Hosting environment: Development
2025-01-11 17:42:13.388 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:42:13.424 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:42:13.526 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:42:13.575 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:42:13.632 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:42:13.644 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:42:13.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 136.9073ms
2025-01-11 17:42:13.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:42:13.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:42:13.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:42:13.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.3432ms
2025-01-11 17:42:13.773 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.6349ms
2025-01-11 17:42:13.786 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.1688ms
2025-01-11 17:42:13.882 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:42:13.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.2211ms
2025-01-11 17:42:14.410 +01:00 [INF] Fetching destinations for IDs: ["21a3557c-9ffa-4ad7-a4c7-edbbd6121417","ec3a4711-7b00-43f9-a6ec-d76c181d83b7"]
2025-01-11 17:42:14.694 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:42:14.701 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1053.7229ms
2025-01-11 17:42:14.703 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:42:55.814 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:42:55.817 +01:00 [ERR] Connection id "0HN9IBRJ9NGTA", Request id "0HN9IBRJ9NGTA:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:42:55.823 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:42:55.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 42422.2965ms
2025-01-11 17:42:55.844 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:42:55.846 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:42:55.897 +01:00 [INF] Fetching destinations for IDs: ["21a3557c-9ffa-4ad7-a4c7-edbbd6121417","ec3a4711-7b00-43f9-a6ec-d76c181d83b7"]
2025-01-11 17:42:55.902 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:42:55.905 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 58.2614ms
2025-01-11 17:42:55.907 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:44:21.683 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:44:21.834 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:44:21.835 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:44:21.877 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:44:21.878 +01:00 [INF] Hosting environment: Development
2025-01-11 17:44:21.878 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:44:22.330 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:44:22.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 121.7055ms
2025-01-11 17:44:22.496 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:44:22.496 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:44:22.496 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:44:22.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.8254ms
2025-01-11 17:44:22.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.0022ms
2025-01-11 17:44:22.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.2607ms
2025-01-11 17:44:22.627 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:44:22.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.1674ms
2025-01-11 17:44:23.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:44:23.794 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:44:23.866 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:44:23.874 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:44:24.559 +01:00 [INF] Fetching destinations for IDs: ["21a3557c-9ffa-4ad7-a4c7-edbbd6121417","ec3a4711-7b00-43f9-a6ec-d76c181d83b7"]
2025-01-11 17:44:24.855 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:44:24.862 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 983.9053ms
2025-01-11 17:44:24.863 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:48:52.577 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:48:52.717 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:48:52.718 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:48:52.755 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:48:52.756 +01:00 [INF] Hosting environment: Development
2025-01-11 17:48:52.756 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:48:53.125 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:48:53.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 111.7083ms
2025-01-11 17:48:53.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:48:53.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:48:53.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:48:53.285 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 9.9506ms
2025-01-11 17:48:53.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 72.5592ms
2025-01-11 17:48:53.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.5336ms
2025-01-11 17:48:53.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:48:53.482 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.632ms
2025-01-11 17:48:55.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:48:55.148 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:48:55.214 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:48:55.222 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:48:55.878 +01:00 [INF] Fetching details for cart items
2025-01-11 17:48:56.116 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:48:56.125 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 899.3033ms
2025-01-11 17:48:56.126 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:49:55.456 +01:00 [ERR] Connection id "0HN9IBVACDF89", Request id "0HN9IBVACDF89:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:49:55.457 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:49:55.457 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:49:55.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:49:55.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:49:55.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:49:55.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:49:55.728 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 60584.3693ms
2025-01-11 17:49:55.730 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.731 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.732 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.733 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.734 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.736 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:49:55.742 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:55.743 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:49:55.743 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:49:55.743 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:55.743 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:55.743 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:55.744 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:49:55.745 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:49:55.747 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:49:55.747 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:49:55.748 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:49:55.749 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:49:55.790 +01:00 [INF] Fetching details for cart items
2025-01-11 17:49:55.790 +01:00 [INF] Fetching details for cart items
2025-01-11 17:49:55.795 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:55.795 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:55.798 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 49.153ms
2025-01-11 17:49:55.799 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 51.1536ms
2025-01-11 17:49:55.800 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:49:55.801 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:49:57.193 +01:00 [ERR] Connection id "0HN9IBVACDF8A", Request id "0HN9IBVACDF8A:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:49:58.708 +01:00 [ERR] Connection id "0HN9IBVACDF89", Request id "0HN9IBVACDF89:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:49:58.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3039.6806ms
2025-01-11 17:49:58.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3259.8076ms
2025-01-11 17:49:58.752 +01:00 [INF] Executed DbCommand (3,017ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:49:58.752 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:49:58.752 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:49:58.761 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:49:58.761 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:49:58.761 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:49:58.773 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:49:58.773 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:49:58.773 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:49:58.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:49:59.041 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:49:59.041 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:49:59.041 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:49:59.041 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:49:59.047 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:59.047 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:59.047 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:59.047 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:49:59.053 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3301.9893ms
2025-01-11 17:49:59.053 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3300.8918ms
2025-01-11 17:49:59.054 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3300.8204ms
2025-01-11 17:49:59.054 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 3304.114ms
2025-01-11 17:49:59.054 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:59.055 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:59.055 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:59.056 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:49:59.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 3354.2316ms
2025-01-11 17:49:59.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 499 null application/json; charset=utf-8 3572.4822ms
2025-01-11 17:49:59.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 3354.2697ms
2025-01-11 17:49:59.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 499 null application/json; charset=utf-8 3604.4301ms
2025-01-11 17:50:18.293 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:50:18.464 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:50:18.465 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:50:18.507 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:50:18.508 +01:00 [INF] Hosting environment: Development
2025-01-11 17:50:18.508 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:50:18.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:50:19.073 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 125.3845ms
2025-01-11 17:50:19.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:50:19.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:50:19.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:50:19.128 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 4.878ms
2025-01-11 17:50:19.136 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 13.5427ms
2025-01-11 17:50:19.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.8544ms
2025-01-11 17:50:19.250 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:50:19.278 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.683ms
2025-01-11 17:50:19.585 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:50:19.589 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:50:19.653 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:50:19.662 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:50:20.326 +01:00 [INF] Fetching details for cart items
2025-01-11 17:50:20.570 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:50:20.577 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 911.6469ms
2025-01-11 17:50:20.578 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:52:50.573 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:52:50.746 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:52:50.747 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:52:50.801 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:52:50.802 +01:00 [INF] Hosting environment: Development
2025-01-11 17:52:50.803 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:52:50.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:52:51.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 152.2919ms
2025-01-11 17:52:51.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:52:51.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:52:51.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:52:51.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 3.2921ms
2025-01-11 17:52:51.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.3659ms
2025-01-11 17:52:51.128 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.2341ms
2025-01-11 17:52:51.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:52:51.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.2971ms
2025-01-11 17:52:52.570 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:52:52.576 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:52:52.651 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:52:52.660 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:52:53.401 +01:00 [INF] Fetching combined cart details
2025-01-11 17:52:53.661 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:52:53.667 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 1003.1339ms
2025-01-11 17:52:53.668 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:52:55.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:52:55.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:52:55.670 +01:00 [ERR] Connection id "0HN9IC1H82SU8", Request id "0HN9IC1H82SU8:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:52:55.671 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:52:55.671 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:52:55.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3126.1777ms
2025-01-11 17:52:55.697 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:52:55.702 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:52:55.703 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:52:55.706 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:52:55.747 +01:00 [INF] Fetching combined cart details
2025-01-11 17:52:55.751 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:52:55.752 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 47.8749ms
2025-01-11 17:52:55.753 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:52:55.936 +01:00 [ERR] Connection id "0HN9IC1H82SU8", Request id "0HN9IC1H82SU8:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:52:55.942 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 274.99ms
2025-01-11 17:52:55.974 +01:00 [INF] Executed DbCommand (277ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:52:55.974 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__destinationIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price"
FROM "Destination" AS d
WHERE d."Id" = ANY (@__destinationIds_0)
2025-01-11 17:52:55.982 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:52:55.982 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:52:55.994 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:52:56.237 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:52:56.241 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:52:56.247 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 540.3241ms
2025-01-11 17:52:56.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:52:56.250 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:52:56.251 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:52:56.252 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:52:56.253 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:52:56.255 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 588.3001ms
2025-01-11 17:52:56.293 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:52:56.298 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:52:56.300 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:52:56.301 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 46.6453ms
2025-01-11 17:52:56.302 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:52:56.303 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 54.4894ms
2025-01-11 17:55:54.592 +01:00 [INF] User profile is available. Using 'C:\Users\Maciek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-11 17:55:54.752 +01:00 [INF] Now listening on: https://localhost:7154
2025-01-11 17:55:54.753 +01:00 [INF] Now listening on: http://localhost:5219
2025-01-11 17:55:54.791 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-11 17:55:54.792 +01:00 [INF] Hosting environment: Development
2025-01-11 17:55:54.792 +01:00 [INF] Content root path: C:\Project\trips\backend\backend
2025-01-11 17:55:54.931 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.html - null null
2025-01-11 17:55:55.043 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.html - 200 null text/html;charset=utf-8 114.5041ms
2025-01-11 17:55:55.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - null null
2025-01-11 17:55:55.093 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/_vs/browserLink - null null
2025-01-11 17:55:55.093 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/index.js - null null
2025-01-11 17:55:55.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/index.js - 200 null application/javascript;charset=utf-8 8.5028ms
2025-01-11 17:55:55.137 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 44.5735ms
2025-01-11 17:55:55.151 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.9355ms
2025-01-11 17:55:55.249 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - null null
2025-01-11 17:55:55.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.6103ms
2025-01-11 17:55:56.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:55:56.674 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:55:56.737 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:55:56.746 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:55:57.429 +01:00 [INF] Fetching all cart details in one query
2025-01-11 17:55:57.712 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:55:57.719 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 969.2391ms
2025-01-11 17:55:57.720 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:55:59.989 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:55:59.989 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:55:59.991 +01:00 [ERR] Connection id "0HN9IC383KBQM", Request id "0HN9IC383KBQM:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:55:59.994 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:55:59.994 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:56:00.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 3350.9943ms
2025-01-11 17:56:00.022 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:56:00.027 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:00.029 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:56:00.031 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:56:00.065 +01:00 [INF] Fetching all cart details in one query
2025-01-11 17:56:00.070 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:00.073 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 43.0781ms
2025-01-11 17:56:00.075 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:00.701 +01:00 [ERR] Connection id "0HN9IC383KBQM", Request id "0HN9IC383KBQM:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 17:56:00.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 717.333ms
2025-01-11 17:56:00.755 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 17:56:00.755 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:56:00.755 +01:00 [INF] Executed DbCommand (735ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 17:56:00.763 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:56:00.763 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 17:56:01.001 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:56:01.004 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:01.010 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 977.4525ms
2025-01-11 17:56:01.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Authentication/user - null null
2025-01-11 17:56:01.012 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:56:01.014 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:56:01.014 +01:00 [INF] Executing endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:56:01.015 +01:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentUser() on controller backend.Controllers.AuthenticationController (backend).
2025-01-11 17:56:01.017 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 1027.8978ms
2025-01-11 17:56:01.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LastUpdated", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-01-11 17:56:01.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-01-11 17:56:01.033 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[backend.Domain.DTO.Authentication.AccountDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:01.034 +01:00 [INF] Executed action backend.Controllers.AuthenticationController.GetCurrentUser (backend) in 17.4995ms
2025-01-11 17:56:01.035 +01:00 [INF] Executed endpoint 'backend.Controllers.AuthenticationController.GetCurrentUser (backend)'
2025-01-11 17:56:01.036 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Authentication/user - 200 null application/json; charset=utf-8 24.3553ms
2025-01-11 17:56:01.104 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:56:01.106 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:56:01.107 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:01.108 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:56:01.112 +01:00 [INF] Fetching all cart details in one query
2025-01-11 17:56:01.114 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:01.115 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 17:56:01.115 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 6.5004ms
2025-01-11 17:56:01.117 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:01.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 23.0255ms
2025-01-11 17:56:03.139 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:56:03.141 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:56:03.142 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:03.143 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:56:03.145 +01:00 [INF] Fetching all cart details in one query
2025-01-11 17:56:03.152 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:03.153 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 17:56:03.154 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 10.1132ms
2025-01-11 17:56:03.156 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:03.167 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 27.8072ms
2025-01-11 17:56:07.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 17:56:07.185 +01:00 [INF] CORS policy execution successful.
2025-01-11 17:56:07.186 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:07.186 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 17:56:07.188 +01:00 [INF] Fetching all cart details in one query
2025-01-11 17:56:07.190 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 17:56:07.191 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.6705ms
2025-01-11 17:56:07.192 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 17:56:07.203 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 17:56:07.204 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 20.9087ms
2025-01-11 17:56:07.206 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 18:01:25.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 18:01:25.132 +01:00 [INF] CORS policy execution successful.
2025-01-11 18:01:25.133 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 18:01:25.134 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 18:01:25.136 +01:00 [INF] Fetching all cart details in one query
2025-01-11 18:01:25.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 18:01:25.139 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 3.7577ms
2025-01-11 18:01:25.140 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 18:01:29.945 +01:00 [ERR] Connection id "0HN9IC383KBQM", Request id "0HN9IC383KBQM:0000000F": An unhandled exception was thrown by the application.
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.Close()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetState(Boolean disposeDbConnection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Dispose()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.Dispose()
   at Microsoft.EntityFrameworkCore.DbContext.Dispose()
   at backend.Infrastructure.Respository.UnitOfWork.Dispose() in C:\Project\trips\backend\backend.Infrastructure\Respository\UnitOfWork.cs:line 80
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-01-11 18:01:29.945 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7154/api/Cart/cart - null null
2025-01-11 18:01:29.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 4825.1129ms
2025-01-11 18:01:29.953 +01:00 [INF] CORS policy execution successful.
2025-01-11 18:01:29.955 +01:00 [INF] Executing endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 18:01:29.956 +01:00 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller backend.Controllers.CartController (backend).
2025-01-11 18:01:29.957 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 18:01:29.957 +01:00 [INF] Fetching all cart details in one query
2025-01-11 18:01:29.959 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'TripsDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-01-11 18:01:29.960 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[backend.Domain.DTO.Cart.CartItemDTO, backend.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[backend.Application.Services.CartService+<GetCartAsync>d__5, backend.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-11 18:01:30.002 +01:00 [INF] Executed action backend.Controllers.CartController.GetCart (backend) in 45.2317ms
2025-01-11 18:01:30.003 +01:00 [INF] Executed endpoint 'backend.Controllers.CartController.GetCart (backend)'
2025-01-11 18:01:30.012 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7154/api/Cart/cart - 500 null application/json 66.7841ms
2025-01-11 18:01:30.014 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__destinationIds_0='?' (DbType = Object), @__accommodationIds_1='?' (DbType = Object), @__visitPlaceIds_2='?' (DbType = Object), @__tripIds_3='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."ItemType", c."ItemId", c."ItemType" = 1, c."ItemType" = 2, c."ItemType" = 3, c."ItemType" = 4, d1."Id", d1."CategoryId", d1."CreatedAt", d1."Description", d1."GeoLocationId", d1."Location", d1."ModifiedAt", d1."Name", d1."PhotoUrl", d1."Price", a1."Id", a1."BedAmmount", a1."CreatedAt", a1."Description", a1."Location", a1."ModifiedAt", a1."Name", a1."PhotoUrl", a1."Price", v1."Id", v1."CreatedAt", v1."Description", v1."DestinationId", v1."Duration", v1."Latitude", v1."Longitude", v1."ModifiedAt", v1."Name", v1."PhotoUrl", v1."Price", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."EndDate", t1."Latitude", t1."Longitude", t1."ModifiedAt", t1."StartDate", t1."Status", t1."Title", t1."TotalPrice"
FROM "Cart" AS c
LEFT JOIN (
    SELECT d0."Id", d0."CategoryId", d0."CreatedAt", d0."Description", d0."GeoLocationId", d0."Location", d0."ModifiedAt", d0."Name", d0."PhotoUrl", d0."Price"
    FROM (
        SELECT d."Id", d."CategoryId", d."CreatedAt", d."Description", d."GeoLocationId", d."Location", d."ModifiedAt", d."Name", d."PhotoUrl", d."Price", ROW_NUMBER() OVER(PARTITION BY d."Id" ORDER BY d."Id") AS row
        FROM "Destination" AS d
    ) AS d0
    WHERE d0.row <= 1
) AS d1 ON c."ItemId" = d1."Id"
LEFT JOIN (
    SELECT a0."Id", a0."BedAmmount", a0."CreatedAt", a0."Description", a0."Location", a0."ModifiedAt", a0."Name", a0."PhotoUrl", a0."Price"
    FROM (
        SELECT a."Id", a."BedAmmount", a."CreatedAt", a."Description", a."Location", a."ModifiedAt", a."Name", a."PhotoUrl", a."Price", ROW_NUMBER() OVER(PARTITION BY a."Id" ORDER BY a."Id") AS row
        FROM "Accommodation" AS a
    ) AS a0
    WHERE a0.row <= 1
) AS a1 ON c."ItemId" = a1."Id"
LEFT JOIN (
    SELECT v0."Id", v0."CreatedAt", v0."Description", v0."DestinationId", v0."Duration", v0."Latitude", v0."Longitude", v0."ModifiedAt", v0."Name", v0."PhotoUrl", v0."Price"
    FROM (
        SELECT v."Id", v."CreatedAt", v."Description", v."DestinationId", v."Duration", v."Latitude", v."Longitude", v."ModifiedAt", v."Name", v."PhotoUrl", v."Price", ROW_NUMBER() OVER(PARTITION BY v."Id" ORDER BY v."Id") AS row
        FROM "VisitPlace" AS v
    ) AS v0
    WHERE v0.row <= 1
) AS v1 ON c."ItemId" = v1."Id"
LEFT JOIN (
    SELECT t0."Id", t0."CreatedAt", t0."CreatedBy", t0."EndDate", t0."Latitude", t0."Longitude", t0."ModifiedAt", t0."StartDate", t0."Status", t0."Title", t0."TotalPrice"
    FROM (
        SELECT t."Id", t."CreatedAt", t."CreatedBy", t."EndDate", t."Latitude", t."Longitude", t."ModifiedAt", t."StartDate", t."Status", t."Title", t."TotalPrice", ROW_NUMBER() OVER(PARTITION BY t."Id" ORDER BY t."Id") AS row
        FROM "Trip" AS t
    ) AS t0
    WHERE t0.row <= 1
) AS t1 ON c."ItemId" = t1."Id"
WHERE (c."ItemType" = 1 AND c."ItemId" = ANY (@__destinationIds_0)) OR (c."ItemType" = 2 AND c."ItemId" = ANY (@__accommodationIds_1)) OR (c."ItemType" = 3 AND c."ItemId" = ANY (@__visitPlaceIds_2)) OR (c."ItemType" = 4 AND c."ItemId" = ANY (@__tripIds_3))
2025-01-11 18:01:30.018 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Infrastructure.Authentication.TripsDbContext'.
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Connection is not open
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlCommand.CheckAndGetConnection()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
